{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/Nav/HamburgerButton.jsx","components/Nav/NavBar.jsx","components/Nav/Backdrop.jsx","components/Auth/ProtectedRoute.jsx","components/Auth/ProtectedEditRoute.jsx","components/Nav/HamburgerMenu.jsx","components/Badges.jsx","components/LinkIcon.jsx","pages/Profile.jsx","pages/Login.jsx","components/CityAutoComplete.jsx","components/Error.jsx","pages/ProfileEdit.jsx","pages/CollabEdit.jsx","pages/CollabNew.jsx","components/Messages/MessageCard.jsx","pages/Messages.jsx","components/Messages/OneMessage.jsx","pages/Message.jsx","components/Nav/Tabs.jsx","components/Cards/FreelancerCard.jsx","components/Filters/FilterFreelance.jsx","pages/FreelancersFeed.jsx","components/Filters/FilterCollab.jsx","components/Cards/CollabCard.jsx","pages/CollabsFeed.jsx","pages/Collab.jsx","pages/About.jsx","pages/Error_404.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","userInfo","post","then","res","catch","get","key","value","id","object","patch","filter","el","bio","location","title","userCategory","map","sort","a","b","reduce","slice","push","currentlyInUse","err","id1","id2","message","UserContext","React","createContext","UserProvider","state","user","isLoggedIn","isLoading","setUser","setState","removeUser","apiHandler","authValues","this","Provider","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","HamburgerButton","linesClassName","hamburgerToggle","className","onClick","click","join","exact","to","userName","name","hamburgerClickHandler","toggled","e","removeUserCallBack","Backdrop","component","rest","render","path","username","HamburgerMenu","hamburgerMenuClass","show","closeMenu","Badges","heading","label","linked","item","href","LinkIcon","link","toLowerCase","icon","faLink","match","faFacebookSquare","faTwitterSquare","faLinkedin","faInstagramSquare","faDribbbleSquare","faEtsy","faFlickr","faGoodreads","faDev","faGithubSquare","faMedium","faPatreon","faPaypal","faPeriscope","faPinterestSquare","faProductHunt","faRedditSquare","faSoundcloud","faSpotify","faVimeo","faWordpressSimple","faYoutubeSquare","checkLink","params","apiRes","_id","history","profilePicture","src","alt","socialLinks","index","parselink","target","rel","openToProjects","faUserFriends","remote","faGlobeEurope","faMapMarkerAlt","preferredContact","faCommentAlt","userSkills","portfolio","portfolioItem","image","description","userCollab","collab","Login","accountExists","usernameAvailable","email","password","formError","handleClick","prevState","handleChange","event","handleUsername","length","isValid","includes","handleSubmit","preventDefault","logUser","createAccount","role","aria-label","onChange","onSubmit","htmlFor","type","placeholder","faChevronLeft","contextType","withRouter","CityAutoComplete","search","results","handleSearchChange","clearTimeout","timeoutId","setTimeout","performSearch","features","handleItemClicked","place","place_name","onSelect","userLocation","Error","handleError","faTimes","ProfileEdit","categoryOptions","saved","newPortfolio","undefined","handleFormSubmit","skillOptions","addSocial","JSON","stringify","formData","objectToFormData","handleCategoryChange","handleSkillChange","handlePlaceChange","handleFormChange","document","querySelectorAll","files","size","reader","FileReader","onload","temporaryPicture","result","readAsDataURL","handlePortfolio","handleNewPortfolio","handleAddPortfolio","concat","handleRemovePortfolio","i","handlePortfolioImage","handleAddSocial","handleRemoveSocial","accept","spellcheck","Autocomplete","multiple","limitTags","options","getOptionLabel","option","filterSelectedOptions","renderInput","TextField","TextareaAutosize","maxLength","faMinusCircle","onKeyDown","keyCode","faPlusCircle","faCheckCircle","faTimesCircle","phone","faCamera","creator","contributors","allUsers","skillsNeeded","categoryNeeded","open","handleUserChange","style","backgroundImage","MessageCard","substring","recipients","messages","unread","lastMessage","correspondent","author","truncateMessage","content","newMessage","users","currentUser","handleCreate","forEach","OneMessage","time","Date","own","readableDate","getHours","getMinutes","getDay","getMonth","getFullYear","sendMessage","now","componentDidMount","recipient","componentDidUpdate","updateScroll","element","querySelector","scrollTop","scrollHeight","Tabs","activeClassName","FreelancerCard","freelancer","FilterFreelance","filterCity","filterCategory","filterSkill","categoriesUsed","skillsUsed","citiesUsed","filteredFreelancersArray","handleCityChange","handleFreelancersUpdate","categories","skills","filteredFreelancers","freelancers","category","skill","updateFreelancersFeed","action","FreelancersFeed","filteredArray","FilterCollab","CollabCard","CollabsFeed","collabs","faUserLock","faPenFancy","About","Error_404","App","hamburgerMenuOpen","hamburgerMenuToggleHandler","backdropClickHandler","Messages","Message","CollabNew","CollabEdit","Collab","Profile","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.1237b8c0.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_API_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUsers() {\n    return service\n      .get(\"/api/users\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUser(key, value) {\n    return service\n      .get(`/api/users?${key}=${value}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  patchUser(id, object) {\n    return service\n      .patch(`/api/users/${id}`, object)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getCollab(id) {\n    return service\n      .get(`/api/collabs/` + id)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  patchCollab(id, object) {\n    return service\n      .patch(`/api/collabs/${id}`, object)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  postCollab(object) {\n    return service\n      .post(`/api/collabs/`, object)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getCollabs() {\n    return service.get(\"/api/collabs\").then((res) => res.data);\n  },\n\n  getCategories() {\n    return service.get(\"/api/categories\").then((res) => res.data);\n  },\n\n  getSkills() {\n    return service.get(\"/api/skills\").then((res) => res.data);\n  },\n\n  filterUsedCities() {\n    return service\n      .get(\"/api/users\")\n      .then((res) =>\n        [...res.data]\n          .filter((el) => el.bio && el.location && el.title && el.userCategory)\n          .map((el) => el.location)\n          .sort((a, b) => a > b)\n          .reduce((a, b) => {\n            // slice(-1)[0] means last item in array without removing it (like .pop())\n            if (a.slice(-1)[0] !== b) a.push(b);\n\n            return a;\n          }, [])\n      )\n      .catch(errorHandler);\n  },\n\n  filterUsedSkills() {\n    return service\n      .get(\"/api/skills\")\n      .then((res) => res.data.filter((el) => el.currentlyInUse))\n      .catch(errorHandler);\n  },\n\n  filterUsedCategories() {\n    return service\n      .get(\"/api/categories\")\n      .then((res) => res.data.filter((el) => el.currentlyInUse))\n      .catch((err) => console.log(err));\n  },\n\n  // get users that have a complete freelancer profile\n  getFreelancers() {\n    return service\n      .get(\"/api/users\")\n      .then((res) =>\n        res.data.filter(\n          (el) => el.bio && el.location && el.title && el.userCategory\n        )\n      )\n      .catch(errorHandler);\n  },\n  // Messages\n  createMessageThread(id1, id2) {\n    return service\n      .post(`/api/messages/new/${id1}/${id2}`)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  },\n  getOneMessage(id) {\n    return service\n      .get(\"/api/messages/message/\" + id)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  },\n  sendOneMessage(id, message) {\n    return service\n      .post(`/api/messages/message/` + id, message)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  },\n  getAllMessages(id) {\n    return service\n      .get(`/api/messages/user/` + id)\n      .then((res) => res.data)\n      .catch((err) => console.log(err));\n  },\n};\n","import React from \"react\";\n\nconst UserContext = React.createContext();\n\nexport default UserContext;\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport UserContext from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        this.setState({ user: data, isLoggedIn: true, isLoading: false });\n      })\n      .catch((error) => {\n        console.log(error);\n        this.setState({ user: null, isLoggedIn: false, isLoading: false });\n      });\n  }\n\n  setUser = (user) => {\n    this.setState({ user, isLoggedIn: true });\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\nimport UserContext from \"./UserContext\";\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n","import React from 'react';\n\nconst HamburgerButton = (props) => {\n  // console.log(props);\n  let linesClassName = ['hamburger-btn__line'];\n  if (props.hamburgerToggle) {\n    linesClassName.push('animate');\n  }\n  // console.log(linesClassName);\n  return (\n    <button className=\"hamburger-btn\" onClick={props.click}>\n      <div className={linesClassName.join(' ')}></div>\n      <div className={linesClassName.join(' ')}></div>\n      <div className={linesClassName.join(' ')}></div>\n    </button>\n  );\n};\n\nexport default HamburgerButton;\n","// import React, { useState } from 'react';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { withUser } from '../Auth/withUser';\nimport UserContext from '../Auth/UserContext';\nimport apiHandler from '../../api/apiHandler';\n\nimport HamburgerButton from './HamburgerButton';\n// import SaveEditButton from './SaveEditButton';\n\nimport '../../styles/NavBar.scss';\n\nconst NavBar = (props) => {\n  const handleLogout = (removeUserCallBack) => {\n    apiHandler\n      .logout()\n      .then(() => {\n        removeUserCallBack();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n  // const [isEditing, setEdit] = useState(false);\n  return (\n    <UserContext.Consumer>\n      {(context) => (\n        <nav id=\"Nav\" className=\"Nav\">\n          <NavLink exact onClick={props.click} to=\"/\">\n            <h3 className=\"Nav__logo\">Freely</h3>\n          </NavLink>\n          <ul className=\"Nav__list\">\n            <li className=\"Nav__item\">\n              <NavLink\n                className=\"Nav__link\"\n                exact\n                onClick={props.click}\n                to={context.user ? '/collabs-create' : '/login'}\n              >\n                <span className=\"Nav__plus-icon\">+</span>\n                <p className=\"Nav__plus-icon-text\">Create a bundle</p>\n              </NavLink>\n            </li>\n            <li className=\"Nav__item\">\n              <NavLink\n                className=\"Nav__link\"\n                onClick={props.click}\n                to={context.user ? `/${context.user.userName}` : '/login'}\n              >\n                {/* <div\n                  className=\"Nav__avatar\"\n                  style={{\n                    backgroundImage: context.user\n                      ? `url(${context.user.profilePicture})`\n                      : 'url(\"media/avatar2.png\")',\n                  }}\n                ></div> */}\n                {/* {context.user && (\n                  <div\n                    className=\"Nav__avatar\"\n                    style={{\n                      backgroundImage: `url(${context.user.profilePicture})`,\n                    }}\n                  ></div>\n                )} */}\n                {context.user && <div>{context.user.name}</div>}\n                {!context.user && <div>Profile</div>}\n              </NavLink>\n            </li>\n            <li className=\"Nav__item hamburger__button\">\n              <HamburgerButton\n                click={props.hamburgerClickHandler}\n                hamburgerToggle={props.toggled}\n                // context={context}\n              />\n            </li>\n            {context.user && (\n              <li className=\"Nav__item hamburger__item\">\n                <NavLink className=\"Nav__link\" exact to=\"/messages\">\n                  Messages\n                </NavLink>\n              </li>\n            )}\n            <li className=\"Nav__item hamburger__item\">\n              <NavLink className=\"Nav__link\" exact to=\"/collabs-create\">\n                About\n              </NavLink>\n            </li>\n            {context.user && (\n              <li className=\"Nav__item hamburger__item\">\n                <NavLink\n                  className=\"Nav__link\"\n                  exact\n                  to=\"/\"\n                  onClick={(e) => handleLogout(context.removeUser)}\n                >\n                  Log Out\n                </NavLink>\n              </li>\n            )}\n            {!context.user && (\n              <li className=\"Nav__item hamburger__item primary-btn\">\n                <NavLink className=\"Nav__link\" exact to=\"/login\">\n                  Join\n                </NavLink>\n              </li>\n            )}\n          </ul>\n        </nav>\n      )}\n    </UserContext.Consumer>\n  );\n};\n\nexport default withUser(NavBar);\n","import React from 'react';\n\nconst Backdrop = (props) => {\n  return (\n    <div className=\"backdrop\" onClick={props.click}>\n      <div className=\"backdrop__secondary\" onClick={props.click}></div>\n    </div>\n  );\n};\n\nexport default Backdrop;\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { withUser } from './withUser';\n\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    //add error message: you must be authenticated to access this page\n    return <Redirect to=\"/login\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","// } else if (context.isLoggedIn && context.user.userName.includes(/{username}) ) {\n\nimport React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { withUser } from './withUser';\n\nconst ProtectedEditRoute = ({\n  component: Component,\n  context,\n  path,\n  username,\n  ...rest\n}) => {\n  if (context.isLoading) {\n    return null;\n  } else if (\n    context.isLoggedIn\n    // &&\n    // context.user.userName.includes({ path }, -5)\n  ) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    //add error message: you must be authentified to access this page\n    return <Redirect to=\"/error_404\" />;\n  }\n};\n\nexport default withUser(ProtectedEditRoute);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport apiHandler from '../../api/apiHandler';\nimport UserContext from '../Auth/UserContext';\n\nconst HamburgerMenu = (props) => {\n  let hamburgerMenuClass = ['hamburger-menu'];\n  if (props.show) hamburgerMenuClass.push('open');\n\n  const handleLogout = (removeUserCallBack, closeMenu) => {\n    apiHandler\n      .logout()\n      .then(() => {\n        removeUserCallBack();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n    // execute callback to backdropClickHandler in App.jsx\n    closeMenu();\n  };\n  return (\n    <UserContext.Consumer>\n      {(context) => (\n        <nav className={hamburgerMenuClass.join(' ')}>\n          <ul className=\"hamburger-menu__list\">\n            {context.user && (\n              <li className=\"hamburger-menu__item\">\n                <Link\n                  className=\"hamburger-menu__link\"\n                  onClick={props.click}\n                  to=\"/messages\"\n                >\n                  Messages\n                </Link>\n              </li>\n            )}\n            {!context.user && (\n              <li className=\"hamburger-menu__item\">\n                <Link\n                  className=\"hamburger-menu__link\"\n                  to=\"/login\"\n                  onClick={props.click}\n                >\n                  Join Us\n                </Link>\n              </li>\n            )}\n            <li className=\"hamburger-menu__item\">\n              <Link\n                className=\"hamburger-menu__link\"\n                to=\"/about\"\n                onClick={props.click}\n              >\n                About\n              </Link>\n            </li>\n            {context.user && (\n              <li className=\"hamburger-menu__item\">\n                <Link\n                  className=\"hamburger-menu__link\"\n                  to=\"/\"\n                  onClick={(e) => handleLogout(context.removeUser, props.click)}\n                >\n                  Log Out\n                </Link>\n              </li>\n            )}\n          </ul>\n        </nav>\n      )}\n    </UserContext.Consumer>\n  );\n};\n\nexport default HamburgerMenu;\n\n// class HamburgerMenu extends Component {\n//   static contextType = UserContext;\n\n//   state = {\n//     isToggled: false,\n//   };\n\n//   handleLogout = (event) => {\n//     event.preventDefault();\n//     apiHandler\n//       .logout()\n//       .then(() => {\n//         this.context.removeUser();\n//       })\n//       .catch((error) => {\n//         console.log(error);\n//       });\n//     this.handleToggle();\n//   };\n\n//   handleToggle = (toggled) => {\n//     this.setState({ isToggled: toggled ? true : false });\n//   };\n\n//   render() {\n//     console.log(this.state.isToggled);\n//     return (\n//       <>\n//         <Hamburger onToggle={this.handleToggle} />\n//         {this.state.isToggled && (\n//           <>\n//             <div className=\"hamb-menu__background\"></div>\n//             <ul className=\"hamb-menu\">\n//               <li className=\"hamb-menu__item\">\n//                 <NavLink\n//                   onClick={this.handleToggle}\n//                   to=\"/about\"\n//                   className=\"hamb-menu__item\"\n//                 >\n//                   About\n//                 </NavLink>\n//               </li>\n//               <li className=\"hamb-menu__item\">\n//                 <NavLink\n//                   onClick={this.handleLogout}\n//                   to=\"/\"\n//                   className=\"hamb-menu__item\"\n//                 >\n//                   Log Out\n//                 </NavLink>\n//               </li>\n//             </ul>\n//           </>\n//         )}\n//       </>\n//     );\n//   }\n// }\n","import React, { Component } from \"react\";\n\n// note: \"linked\" property only works for users right now\n\nexport default class Badges extends Component {\n  render() {\n    const { heading, data, label, className, linked } = this.props;\n    return (\n      <div className={className}>\n        <h3 className=\"display__heading\">{heading}</h3>\n        <ul className=\"display__badgelist\">\n          {data.map((item) =>\n            linked ? (\n              <li className=\"display__badge\">\n                <a href={\"/\" + item[\"userName\"]}>{item[label]}</a>\n              </li>\n            ) : (\n              <li className=\"display__badge\">{item[label]}</li>\n            )\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faLink } from \"@fortawesome/free-solid-svg-icons\";\nimport {\n  faFacebookSquare,\n  faTwitterSquare,\n  faInstagramSquare,\n  faLinkedin,\n  faDribbbleSquare,\n  faEtsy,\n  faFlickr,\n  faGoodreads,\n  faDev,\n  faGithubSquare,\n  faMedium,\n  faPatreon,\n  faPaypal,\n  faPeriscope,\n  faPinterestSquare,\n  faProductHunt,\n  faRedditSquare,\n  faSoundcloud,\n  faSpotify,\n  faVimeo,\n  faWordpressSimple,\n  faYoutubeSquare,\n} from \"@fortawesome/free-brands-svg-icons\";\n\nconst checkLink = (link) => {\n  link = link.toLowerCase();\n  let icon = <FontAwesomeIcon icon={faLink} />;\n  if (link.match(/facebook.com/)) {\n    icon = <FontAwesomeIcon icon={faFacebookSquare} />;\n  } else if (link.match(/twitter.com/)) {\n    icon = <FontAwesomeIcon icon={faTwitterSquare} />;\n  } else if (link.match(/linkedin.com/)) {\n    icon = <FontAwesomeIcon icon={faLinkedin} />;\n  } else if (link.match(/instagram.com/)) {\n    icon = <FontAwesomeIcon icon={faInstagramSquare} />;\n  } else if (link.match(/dribble/)) {\n    icon = <FontAwesomeIcon icon={faDribbbleSquare} />;\n  } else if (link.match(/etsy.com/)) {\n    icon = <FontAwesomeIcon icon={faEtsy} />;\n  } else if (link.match(/flickr.com/)) {\n    icon = <FontAwesomeIcon icon={faFlickr} />;\n  } else if (link.match(/goodreads.com/)) {\n    icon = <FontAwesomeIcon icon={faGoodreads} />;\n  } else if (link.match(/dev.to/)) {\n    icon = <FontAwesomeIcon icon={faDev} />;\n  } else if (link.match(/github.com/)) {\n    icon = <FontAwesomeIcon icon={faGithubSquare} />;\n  } else if (link.match(/medium.com/)) {\n    icon = <FontAwesomeIcon icon={faMedium} />;\n  } else if (link.match(/patreon.com/)) {\n    icon = <FontAwesomeIcon icon={faPatreon} />;\n  } else if (link.match(/paypal/)) {\n    icon = <FontAwesomeIcon icon={faPaypal} />;\n  } else if (link.match(/pscp.tv/)) {\n    icon = <FontAwesomeIcon icon={faPeriscope} />;\n  } else if (link.match(/pinterest.com/)) {\n    icon = <FontAwesomeIcon icon={faPinterestSquare} />;\n  } else if (link.match(/producthunt.com/)) {\n    icon = <FontAwesomeIcon icon={faProductHunt} />;\n  } else if (link.match(/reddit.com/)) {\n    icon = <FontAwesomeIcon icon={faRedditSquare} />;\n  } else if (link.match(/soundcloud.com/)) {\n    icon = <FontAwesomeIcon icon={faSoundcloud} />;\n  } else if (link.match(/spotify.com/)) {\n    icon = <FontAwesomeIcon icon={faSpotify} />;\n  } else if (link.match(/vimeo.com/)) {\n    icon = <FontAwesomeIcon icon={faVimeo} />;\n  } else if (link.match(/wordpress.com/)) {\n    icon = <FontAwesomeIcon icon={faWordpressSimple} />;\n  } else if (link.match(/youtube.com/)) {\n    icon = <FontAwesomeIcon icon={faYoutubeSquare} />;\n  }\n\n  return icon;\n};\n\nexport default class LinkIcon extends Component {\n  render() {\n    return <span className=\"linkicon\">{checkLink(this.props.link)}</span>;\n  }\n}\n","import React, { Component } from \"react\";\nimport apiHandler from \"../api/apiHandler\";\nimport Badges from \"../components/Badges\";\nimport LinkIcon from \"../components/LinkIcon\";\nimport \"../styles/Display.scss\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faMapMarkerAlt,\n  faGlobeEurope,\n  faCommentAlt,\n  faUserFriends,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nclass Profile extends Component {\n  state = {};\n  componentDidMount() {\n    apiHandler\n      .getUser(\"userName\", this.props.match.params.username)\n      .then((apiRes) => {\n        this.setState(apiRes[0]);\n      });\n  }\n  parselink(link) {\n    let regex = /^http/;\n    if (!link.match(regex)) {\n      return \"http://\" + link;\n    }\n  }\n  render() {\n    console.log(this.props.context);\n    // this.props.history.push(\"/profile\");\n    return (\n      <div className=\"display container\">\n        {this.props.context.user &&\n          this.props.context.user._id === this.state._id && (\n            <button\n              className={\"edit__button collabbutton\"}\n              onClick={() => {\n                this.props.history.push(\"/\" + this.state.userName + \"/edit\");\n              }}\n            >\n              Edit\n            </button>\n          )}\n        {this.state.profilePicture && (\n          <div className=\"display__avatarbox\">\n            <img\n              className=\"display__picture\"\n              src={this.state.profilePicture}\n              alt=\"\"\n            />\n          </div>\n        )}\n        <h2 className=\"display__name\">{this.state.name}</h2>\n        {this.state.userCategory && (\n          <Badges data={this.state.userCategory} label={\"name\"} />\n        )}\n        {this.state.title && (\n          <div className=\"display__title\">{this.state.title}</div>\n        )}\n        {this.state.socialLinks && (\n          <div className=\"display__sociallinks\">\n            {this.state.socialLinks.map((link, index) => {\n              return (\n                <a\n                  href={this.parselink(link)}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  key={index}\n                  className=\"display__sociallink\"\n                >\n                  <LinkIcon link={link} />\n                </a>\n              );\n            })}\n          </div>\n        )}\n        <ul className=\"display__bullets\">\n          {this.state.openToProjects && (\n            <li className=\"display__bullet\">\n              <span className=\"bulleticon\">\n                <FontAwesomeIcon icon={faUserFriends} />\n              </span>\n              Open to collaborations\n            </li>\n          )}\n          {this.state.remote && this.state.openToProjects && (\n            <li className=\"display__bullet\">\n              <span className=\"bulleticon\">\n                <FontAwesomeIcon icon={faGlobeEurope} />\n              </span>\n              Open to remote collabs\n            </li>\n          )}\n          {this.state.location && (\n            <li className=\"display__bullet\">\n              <span className=\"bulleticon\">\n                <FontAwesomeIcon icon={faMapMarkerAlt} />\n              </span>\n              Based in {this.state.location || \"\"}\n            </li>\n          )}\n          {this.state.preferredContact && (\n            <li className=\"display__bullet\">\n              <span className=\"bulleticon\">\n                <FontAwesomeIcon icon={faCommentAlt} />\n              </span>\n              Preferred contact: {this.state.preferredContact}\n            </li>\n          )}\n        </ul>\n        {this.state.userSkills && (\n          <Badges\n            heading={\"Skills\"}\n            data={this.state.userSkills}\n            label={\"name\"}\n            className=\"display__fullwidth\"\n          />\n        )}\n        {this.state.bio && (\n          <>\n            <h2 className=\"display__heading\">About</h2>\n            <div className=\"display__bio\">{this.state.bio}</div>\n          </>\n        )}\n        {this.state.portfolio && (\n          <>\n            <h2 className=\"display__heading\">Portfolio</h2>\n            <div className=\"display__portfolio\">\n              {this.state.portfolio.map((portfolioItem, index) => {\n                return (\n                  <div key={index} className=\"display__portfolioitem\">\n                    <img\n                      className=\"display__portfolioimage\"\n                      src={portfolioItem.image}\n                      alt=\"\"\n                    />\n                    <div className=\"display__portfoliotext\">\n                      <h3 className=\"display__portfoliotitle\">\n                        {portfolioItem.title}\n                      </h3>\n                      <div className=\"display__portfoliodescription\">\n                        {portfolioItem.description}\n                      </div>\n                      {portfolioItem.link && (\n                        <div className=\"display__portfoliolink\">\n                          <a\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            href={this.parselink(portfolioItem.link)}\n                          >\n                            Link \n                          </a>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </>\n        )}\n        {this.state.userCollab && (\n          <div className=\"display__collabs\">\n            <h2 className=\"display__heading\">Collabs</h2>\n            {this.state.userCollab.map((collab, index) => {\n              return (\n                <div key={index} className=\"display__collabcard\">\n                  <img\n                    src={collab.image}\n                    alt=\"\"\n                    className=\"display__collabcardimage\"\n                  />\n                  <h3 className=\"display__collabcardtitle\">{collab.title}</h3>\n                  <p className=\"display__collabcarddescription\">\n                    {collab.description}\n                  </p>\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withUser(Profile);\n","import React, { Component } from 'react';\nimport UserContext from '../components/Auth/UserContext';\nimport { withRouter } from 'react-router-dom';\nimport apiHandler from '../api/apiHandler';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\n\nimport '../styles/Login.scss';\n\nclass Login extends Component {\n  static contextType = UserContext;\n\n  state = {\n    accountExists: false,\n    usernameAvailable: false,\n    name: '',\n    userName: '',\n    email: '',\n    password: '',\n    formError: '',\n  };\n\n  handleClick = () => {\n    this.setState((prevState) => ({ accountExists: !prevState.accountExists }));\n  };\n\n  handleChange = (event) => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  handleUsername = (e) => {\n    if (\n      !e.target.value.match(/^[a-zA-Z0-9_]{3,10}$/) ||\n      e.target.value.match(\n        /^(about|user|collab|collabs|messages|message|edit|login|signup|freely)$/i\n      )\n    ) {\n      this.setState({ usernameAvailable: false });\n      return;\n    }\n    apiHandler.getUser('userName', e.target.value).then((apiRes) => {\n      if (apiRes.length > 0) {\n        this.setState({ usernameAvailable: true });\n      } else {\n        this.setState({ usernameAvailable: true });\n      }\n    });\n  };\n\n  isValid = () => {\n    let errorMessage = '';\n    if (!this.state.name) {\n      this.setState({ formError: 'You forgot your name!' });\n    } else if (!this.state.userName) {\n      this.setState({ formError: 'You forgot your username!' });\n    } else if (!this.state.email.includes('@')) {\n      this.setState({ formError: 'Please enter a valid email.' });\n    } else if (errorMessage) {\n      this.setState({ formError: errorMessage });\n      return false;\n    }\n    return true;\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(this.state.formError);\n    if (this.isValid()) {\n      if (this.state.accountExists) return this.logUser();\n      this.createAccount();\n    }\n  };\n\n  logUser = () => {\n    const { email, password } = this.state;\n    apiHandler\n      .signin({ email, password })\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push('/');\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  createAccount = () => {\n    const { email, password, name, userName } = this.state;\n    apiHandler\n      .signup({ email, password, name, userName })\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push('/');\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"login-container\">\n        {this.state.accountExists && (\n          <h2 className=\"form-login__title\">\n            Welcome back!{' '}\n            <span role=\"img\" aria-label=\"waving-emoji\">\n              \n            </span>\n          </h2>\n        )}\n        {!this.state.accountExists && (\n          <h2 className=\"form-login__title\">\n            Create an account to set up your freelancer profile\n          </h2>\n        )}\n        <form\n          className=\"form-login\"\n          onChange={this.handleChange}\n          onSubmit={this.handleSubmit}\n        >\n          {!this.state.accountExists && (\n            <>\n              <div className=\"form-login__group\">\n                <label className=\"form-login__label\" htmlFor=\"name\">\n                  Name\n                </label>\n                <br></br>\n                <input\n                  className=\"form-login__input\"\n                  type=\"text\"\n                  id=\"name\"\n                  name=\"name\"\n                />\n              </div>\n              <div className=\"form-login__group\">\n                <label className=\"form-login__label\" htmlFor=\"userName\">\n                  Username\n                </label>\n                <br></br>\n                <input\n                  className=\"form-login__input\"\n                  type=\"text\"\n                  id=\"userName\"\n                  name=\"userName\"\n                  onChange={this.handleUsername}\n                />\n              </div>\n            </>\n          )}\n          <div className=\"form-login__group\">\n            <label className=\"form-login__label\" htmlFor=\"email\">\n              Email\n            </label>\n            <br></br>\n            <input\n              className=\"form-login__input\"\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n            />\n          </div>\n          <div className=\"form-login__group\">\n            <label className=\"form-login__label\" htmlFor=\"password\">\n              Password\n            </label>\n            <br></br>\n            <input\n              className=\"form-login__input\"\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              placeholder={this.state.accountExists ? null : '5+ characters'}\n            />\n          </div>\n          <p className=\"form-login__error-msg\">{this.state.formError}</p>\n          <div className=\"form-login__button-group\">\n            <button className=\"form-login__button\">\n              {this.state.accountExists ? 'Log in' : 'Create Account'}\n            </button>\n          </div>\n        </form>\n        <div className=\"form-login__link\">\n          {this.state.accountExists && (\n            <>\n              <h3 onClick={this.handleClick}>Don't have an account yet?</h3>\n              <h3 onClick={this.handleClick}>\n                <FontAwesomeIcon icon={faChevronLeft}></FontAwesomeIcon>\n              </h3>\n            </>\n          )}\n          {!this.state.accountExists && (\n            <h3 onClick={this.handleClick}>I already have an account </h3>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Login);\n","import React, { Component } from 'react';\nimport axios from 'axios';\n\nclass CityAutoComplete extends Component {\n  state = {\n    search: '',\n    results: [],\n    isLoading: false,\n  };\n\n  handleSearchChange = (e) => {\n    this.setState({\n      search: e.target.value,\n      isLoading: true,\n    });\n\n    // Stop the previous setTimeout if there is one in progress\n    clearTimeout(this.timeoutId);\n\n    // Launch a new request in 1000ms (1s) => Avoids excessive requests to the end point.\n    this.timeoutId = setTimeout(() => {\n      // this.state.search.length > 2 && this.performSearch();\n      this.performSearch();\n    }, 1000);\n  };\n\n  performSearch = () => {\n    if (this.state.search === '') {\n      this.setState({\n        results: [],\n        isLoading: false,\n      });\n      return;\n    }\n\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?limit=3&types=place&access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\n      )\n      .then((response) => {\n        this.setState({\n          results: response.data.features,\n          isLoading: false,\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  handleItemClicked = (place) => {\n    this.setState({\n      search: place.place_name,\n      results: [],\n    });\n    this.props.onSelect(place);\n  };\n\n  render() {\n    return (\n      <>\n        <input\n          // className=\"input\"\n          type=\"text\"\n          name=\"location\"\n          id=\"location\"\n          value={this.props.userLocation || ''}\n          onChange={this.handleSearchChange}\n          placeholder=\"Enter an address\"\n        />\n        <ul className=\"CityAutoComplete-results\">\n          {this.state.results.map((place) => (\n            <li\n              key={place.id}\n              className=\"CityAutoComplete-items\"\n              onClick={() => this.handleItemClicked(place)}\n            >\n              {place.place_name}\n            </li>\n          ))}\n          {this.state.isLoading && (\n            <li className=\"CityAutoComplete-items\">Let me think...</li>\n          )}\n        </ul>\n      </>\n    );\n  }\n}\n\nexport default CityAutoComplete;\n","import React, { Component } from \"react\";\nimport \"../styles/Error.scss\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nexport default class Error extends Component {\n  render() {\n    return (\n      <div className=\"error\">\n        <FontAwesomeIcon\n          className=\"error__clear\"\n          onClick={this.props.handleError}\n          icon={faTimes}\n        />\n        <p className=\"error__title\">Error</p>\n        <p>{this.props.error}</p>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport apiHandler from \"../api/apiHandler\";\nimport \"../styles/Display.scss\";\nimport \"../styles/Edit.scss\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { TextareaAutosize } from \"@material-ui/core\";\nimport { objectToFormData } from \"object-to-formdata\";\nimport CityAutoComplete from \"../components/CityAutoComplete\";\nimport LinkIcon from \"../components/LinkIcon\";\nimport Error from \"../components/Error\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faTimesCircle,\n  faCheckCircle,\n  faPlusCircle,\n  faMinusCircle,\n  faCamera,\n} from \"@fortawesome/free-solid-svg-icons\";\n\n/*\n\nusername available?\n\n*/\n\nexport default class ProfileEdit extends Component {\n  state = {\n    categoryOptions: [],\n    saved: true,\n    usernameAvailable: true,\n    newPortfolio: {},\n    error: undefined,\n  };\n  componentDidMount() {\n    apiHandler\n      .getUser(\"userName\", this.props.match.params.username)\n      .then((apiRes) => {\n        this.setState(apiRes[0]);\n      });\n    apiHandler.getCategories().then((apiRes) => {\n      this.setState({ categoryOptions: apiRes });\n    });\n    apiHandler.getSkills().then((apiRes) => {\n      this.setState({ skillOptions: apiRes });\n    });\n  }\n\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.usernameAvailable) {\n      this.setState({ error: \"Username not available.\" });\n      return;\n    }\n    if (!this.state.name) {\n      this.setState({ error: \"Please enter your name.\" });\n      return;\n    }\n    if (!this.state.usernameAvailable) {\n      this.setState({\n        error:\n          \"Username is either invalid or unavailable. Usernames can by 310 characters and use letters, numbers, and underscores\",\n      });\n      return;\n    }\n    if (!this.state.email.match(/^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,10}$/)) {\n      this.setState({ error: \"Please enter a valid address.\" });\n      return;\n    }\n    let user = { ...this.state };\n    delete user.saved;\n    delete user.skillOptions;\n    delete user.categoryOptions;\n    delete user._id;\n    delete user.addSocial;\n    if (user.portfolio) {\n      user.portfolio = JSON.stringify(user.portfolio);\n    }\n    if (user.userCategory) {\n      user.userCategory = JSON.stringify(user.userCategory);\n    }\n    if (user.userSkills) {\n      user.userSkills = JSON.stringify(user.userSkills);\n    }\n    if (user.userCollab) {\n      user.userCollab = JSON.stringify(user.userCollab);\n    }\n    const formData = objectToFormData(user);\n    console.log(this.state.portfolio);\n    apiHandler.patchUser(this.state._id, formData).then((apiRes) => {\n      if (apiRes.userName !== this.props.match.params.username) {\n        this.props.history.push(\"/\" + apiRes.userName + \"/edit\");\n      }\n      this.setState({ apiRes });\n      this.setState({ saved: true });\n    });\n  };\n  handleCategoryChange = (e, value) => {\n    this.setState({ userCategory: value, saved: false });\n  };\n  handleSkillChange = (e, value) => {\n    this.setState({ userSkills: value, saved: false });\n  };\n  handleUsername = (e) => {\n    if (\n      !e.target.value.match(/^[a-zA-Z0-9_]{3,10}$/) ||\n      e.target.value.match(\n        /^(about|user|collab|collabs|messages|message|edit|login|signup|freely)$/i\n      )\n    ) {\n      this.setState({ usernameAvailable: false });\n      return;\n    }\n    apiHandler.getUser(\"userName\", e.target.value).then((apiRes) => {\n      if (apiRes.length > 0) {\n        if (apiRes[0]._id !== this.state._id) {\n          this.setState({ usernameAvailable: false });\n        } else {\n          this.setState({ usernameAvailable: true });\n        }\n      } else {\n        this.setState({ usernameAvailable: true });\n      }\n    });\n  };\n\n  handlePlaceChange = (place) => {\n    this.setState({ location: place.place_name, saved: false });\n  };\n  handleError = (error) => {\n    this.setState({ error: undefined });\n  };\n  handleFormChange = (e) => {\n    if (e.target.name === \"social\") {\n      this.setState({\n        socialLinks: [...document.querySelectorAll(\"[name='social']\")].map(\n          (item) => item.value\n        ),\n      });\n      this.setState({ saved: false });\n    } else if (e.target.name === \"profilePicture\") {\n      if (e.target.files[0].size > 750000) {\n        this.setState({ error: \"Maximum file size: 750kb\" });\n        return;\n      } else {\n        this.setState({ profilePicture: e.target.files[0] });\n        const reader = new FileReader();\n        reader.onload = () => {\n          this.setState({\n            temporaryPicture: reader.result,\n          });\n        };\n        reader.readAsDataURL(e.target.files[0]);\n        this.setState({ saved: false });\n      }\n    } else {\n      this.setState({ [e.target.name]: e.target.value });\n      this.setState({ saved: false });\n    }\n  };\n\n  handlePortfolio = (index, event) => {\n    this.setState({ saved: false });\n    if (event.target.name !== \"image\") {\n      const portfolio = [...this.state.portfolio];\n      portfolio[index][event.target.name] = event.target.value;\n      this.setState({ portfolio: portfolio });\n    }\n  };\n\n  handleNewPortfolio = (e) => {\n    const newPortfolio = { ...this.state.newPortfolio };\n    if (e.target.name === \"image\") {\n      if (e.target.files[0].size > 750000) {\n        console.log(\"Big image\");\n        this.setState({ error: \"Maximum file size: 750kb\" });\n        return;\n      }\n      newPortfolio.image = e.target.files[0];\n      const reader = new FileReader();\n      reader.onload = () => {\n        newPortfolio.temporaryPicture = reader.result;\n        this.setState({ newPortfolio: newPortfolio });\n        console.log(newPortfolio);\n      };\n      reader.readAsDataURL(e.target.files[0]);\n    } else {\n      newPortfolio[e.target.name] = e.target.value;\n      this.setState({ newPortfolio: newPortfolio });\n    }\n  };\n\n  handleAddPortfolio = (e) => {\n    e.preventDefault();\n    if (\n      !{ ...this.state.newPortfolio }.title ||\n      !{ ...this.state.newPortfolio }.description ||\n      !{ ...this.state.newPortfolio }.link\n    ) {\n      this.setState({ error: \"Please fill out all fields.\" });\n      return;\n    }\n    this.setState({\n      [\"portfolio\" + this.state.portfolio.length]: this.state.newPortfolio\n        .image,\n    });\n    this.setState({\n      portfolio: this.state.portfolio.concat([this.state.newPortfolio]),\n      saved: false,\n      newPortfolio: {\n        image: \"\",\n        title: \"\",\n        description: \"\",\n        link: \"\",\n      },\n    });\n  };\n\n  handleRemovePortfolio = (index) => {\n    this.setState({\n      portfolio: this.state.portfolio.filter((item, i) => i !== index && item),\n      saved: false,\n    });\n  };\n\n  handlePortfolioImage = (index, event) => {\n    this.setState({ [\"portfolio\" + index]: event.target.files[0] });\n    const portfolio = [...this.state.portfolio];\n    const reader = new FileReader();\n    reader.onload = () => {\n      portfolio[index].temporaryPicture = reader.result;\n      this.setState({ portfolio: portfolio });\n    };\n    reader.readAsDataURL(event.target.files[0]);\n  };\n\n  handleAddSocial = (e) => {\n    e.preventDefault();\n    if (this.state.addSocial) {\n      this.setState({\n        socialLinks: this.state.socialLinks.concat([this.state.addSocial]),\n        saved: false,\n        addSocial: \"\",\n      });\n    }\n  };\n\n  handleRemoveSocial = (index) => {\n    this.setState({\n      socialLinks: this.state.socialLinks.filter(\n        (item, i) => i !== index && item\n      ),\n      saved: false,\n    });\n  };\n\n  render() {\n    return (\n      <>\n        <form\n          onChange={this.handleFormChange}\n          onSubmit={this.handleFormSubmit}\n          className=\"display container\"\n        >\n          <button\n            className={\n              this.state.saved\n                ? \"edit__button saved\"\n                : this.state.usernameAvailable\n                ? \"edit__button unsaved\"\n                : \"edit__button invalid\"\n            }\n          >\n            {this.state.saved ? \"Saved\" : \"Save\"}\n          </button>\n          <div className=\"display__avatarbox edit\">\n            <label htmlFor=\"profilePicture\">\n              <input\n                type=\"file\"\n                name=\"profilePicture\"\n                id=\"profilePicture\"\n                className=\"input--hidden\"\n                accept=\".png, .jpg, .jpeg\"\n              />\n              <img\n                className=\"display__picture\"\n                src={this.state.temporaryPicture || this.state.profilePicture}\n                alt=\"\"\n              />\n            </label>\n          </div>\n          <h2 className=\"display__name\">\n            <input\n              type=\"text\"\n              spellcheck=\"false\"\n              name=\"name\"\n              id=\"name\"\n              placeholder=\"Name\"\n              value={this.state.name}\n            />\n          </h2>\n          <div className=\"display__categories\">\n            <Autocomplete\n              multiple\n              onChange={this.handleCategoryChange}\n              limitTags={3}\n              id=\"tags-outlined\"\n              options={this.state.categoryOptions}\n              value={this.state.userCategory}\n              getOptionLabel={(option) => option.name} // specify what property to use\n              filterSelectedOptions\n              renderInput={(params) => <TextField {...params} />}\n            />\n          </div>\n          <TextareaAutosize\n            type=\"text\"\n            name=\"title\"\n            id=\"title\"\n            value={this.state.title}\n            className=\"display__title\"\n            maxLength={280}\n            placeholder=\"Intro\"\n          />\n          <div className=\"display__editsocial\">\n            {this.state.socialLinks &&\n              this.state.socialLinks.map((link, index) => {\n                return (\n                  <label\n                    className=\"display__editsociallink\"\n                    htmlFor={\"social\" + index}\n                  >\n                    <LinkIcon link={link} />\n                    <input\n                      type=\"text\"\n                      name={\"social\"}\n                      id={\"social\" + index}\n                      value={link}\n                      spellcheck=\"false\"\n                    />\n                    <FontAwesomeIcon\n                      onClick={() => this.handleRemoveSocial(index)}\n                      icon={faMinusCircle}\n                    />\n                  </label>\n                );\n              })}\n            <label htmlFor={\"social\"} className=\"display__editsociallink\">\n              <LinkIcon link={\"\"} />\n              <input\n                className=\"social--link\"\n                type=\"text\"\n                name=\"addSocial\"\n                placeholder=\"Link\"\n                id={\"social\"}\n                // if user clicks \"enter\"\n                onKeyDown={(e) =>\n                  e.keyCode === 13 ? this.handleAddSocial(e) : null\n                }\n                value={this.state.addSocial}\n              />\n              <FontAwesomeIcon\n                onClick={this.handleAddSocial}\n                icon={faPlusCircle}\n              />\n            </label>\n          </div>\n          <div className=\"display__bullets\">\n            <h3>Key Points</h3>\n            <ul>\n              <li className=\"display__bullet\">\n                <select\n                  id=\"openToProjects\"\n                  value={this.state.openToProjects}\n                  name=\"openToProjects\"\n                >\n                  <option value={true}>Open to collaborations</option>\n                  <option value={false}>\n                    Not open to collaborations right now\n                  </option>\n                </select>\n              </li>\n              <li className=\"display__bullet display__location\">\n                Based in\n                <CityAutoComplete\n                  onSelect={this.handlePlaceChange}\n                  userLocation={this.state.location}\n                />\n              </li>\n              <li className=\"display__bullet\">\n                <select id=\"remote\" value={this.state.remote} name=\"remote\">\n                  <option value={true}>Open to remote collabs</option>\n                  <option value={false}>Not open to remote collabs</option>\n                </select>\n              </li>\n              <li className=\"display__bullet\">\n                Preferred method of contact:{\" \"}\n                <input\n                  type=\"text\"\n                  name=\"preferredContact\"\n                  id=\"preferredContact\"\n                  spellcheck=\"false\"\n                  value={this.state.preferredContact || \"\"}\n                  placeholder=\"Contact\"\n                />\n              </li>\n            </ul>\n            <h3>Personal Info</h3>\n            <ul>\n              <li className=\"display__bullet\">\n                Username:{\" \"}\n                <input\n                  type=\"text\"\n                  name=\"userName\"\n                  id=\"userName\"\n                  spellcheck=\"false\"\n                  onChange={this.handleUsername}\n                  value={this.state.userName}\n                />\n                {this.state.usernameAvailable ? (\n                  <FontAwesomeIcon icon={faCheckCircle} />\n                ) : (\n                  <FontAwesomeIcon icon={faTimesCircle} />\n                )}\n              </li>\n              <li className=\"display__bullet\">\n                Phone Number:{\" \"}\n                <input\n                  type=\"text\"\n                  name=\"phone\"\n                  id=\"phone\"\n                  spellcheck=\"false\"\n                  value={this.state.phone}\n                />\n              </li>\n              <li className=\"display__bullet\">\n                Email:{\" \"}\n                <input\n                  type=\"text\"\n                  name=\"email\"\n                  id=\"email\"\n                  spellcheck=\"false\"\n                  value={this.state.email}\n                />\n              </li>\n            </ul>\n          </div>\n\n          <h2 className=\"display__heading\">Skills</h2>\n          {this.state.skillOptions && (\n            <Autocomplete\n              multiple\n              limitTags={5}\n              onChange={this.handleSkillChange}\n              id=\"tags-outlined\"\n              options={this.state.skillOptions}\n              value={this.state.userSkills}\n              getOptionLabel={(option) => option.name} // specify what property to use\n              filterSelectedOptions\n              renderInput={(params) => <TextField {...params} />}\n            />\n          )}\n          <h2 className=\"display__heading\">About</h2>\n          <TextareaAutosize\n            type=\"bio\"\n            name=\"bio\"\n            id=\"bio\"\n            value={this.state.bio}\n            className=\"display__bio\"\n            placeholder=\"Tell us about yourself...\"\n          />\n        </form>\n        <div className=\"display__portfolio container\">\n          <h2 className=\"display__heading\">Portfolio</h2>\n\n          {this.state.portfolio &&\n            this.state.portfolio.map((portfolioItem, index) => {\n              return (\n                <form\n                  className=\"display__portfolioitem\"\n                  onChange={(event) => this.handlePortfolio(index, event)}\n                >\n                  <label htmlFor={\"image\" + index}>\n                    <input\n                      onChange={(event) =>\n                        this.handlePortfolioImage(index, event)\n                      }\n                      type=\"file\"\n                      name=\"image\"\n                      id={\"image\" + index}\n                      className=\"input--hidden\"\n                      accept=\".png, .jpg, .jpeg\"\n                    />\n                    <img\n                      className=\"display__portfolioimage\"\n                      src={\n                        portfolioItem.temporaryPicture || portfolioItem.image\n                      }\n                      alt=\"\"\n                    />\n                  </label>\n                  <div className=\"display__portfoliotext\">\n                    <h3 className=\"display__portfoliotitle\">\n                      <input\n                        type=\"text\"\n                        name={\"title\"}\n                        id={\"title\"}\n                        spellcheck=\"false\"\n                        value={portfolioItem.title}\n                      />\n                    </h3>\n                    <TextareaAutosize\n                      name=\"description\"\n                      id=\"description\"\n                      value={portfolioItem.description}\n                      className=\"display__portfoliodescription\"\n                      placeholder=\"Intro\"\n                    />\n                    <div className=\"display__portfoliolink\">\n                      <input\n                        type=\"text\"\n                        name={\"link\"}\n                        id={\"link\"}\n                        spellcheck=\"false\"\n                        value={portfolioItem.link}\n                      />\n                      {!portfolioItem.temporaryPicture && !portfolioItem.image && (\n                        <label htmlFor={\"image\" + index}>\n                          <FontAwesomeIcon icon={faCamera} />\n                        </label>\n                      )}\n                      <FontAwesomeIcon\n                        onClick={() => this.handleRemovePortfolio(index)}\n                        icon={faMinusCircle}\n                      />\n                    </div>\n                  </div>\n                </form>\n              );\n            })}\n          {(!this.state.portfolio || this.state.portfolio.length < 3) && (\n            <form\n              className=\"display__portfolioitem\"\n              onChange={this.handleNewPortfolio}\n              onSubmit={this.handleAddPortfolio}\n            >\n              <label htmlFor={\"image\"}>\n                <input\n                  type=\"file\"\n                  name=\"image\"\n                  id={\"image\"}\n                  className=\"input--hidden\"\n                  accept=\".png, .jpg, .jpeg\"\n                />\n                <img\n                  className=\"display__portfolioimage\"\n                  src={\n                    this.state.newPortfolio.temporaryPicture ||\n                    \"https://images.unsplash.com/photo-1566041510632-30055e21a9cf?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=900&h=500&fit=crop&ixid=eyJhcHBfaWQiOjF9\"\n                  }\n                  alt=\"\"\n                />\n              </label>\n              <div className=\"display__portfoliotext\">\n                <h3 className=\"display__portfoliotitle\">\n                  <input\n                    type=\"text\"\n                    name={\"title\"}\n                    id={\"title\"}\n                    spellcheck=\"false\"\n                    value={this.state.newPortfolio.title}\n                    placeholder=\"Portfolio Item Title\"\n                  />\n                </h3>\n                <TextareaAutosize\n                  name=\"description\"\n                  id=\"description\"\n                  value={this.state.newPortfolio.description}\n                  className=\"display__portfoliodescription\"\n                  placeholder=\"Describe your project...\"\n                />\n                <div className=\"display__portfoliolink\">\n                  <input\n                    type=\"text\"\n                    name={\"link\"}\n                    spellcheck=\"false\"\n                    id={\"link\"}\n                    value={this.state.newPortfolio.link}\n                    placeholder=\"A link to your project\"\n                  />\n                  <FontAwesomeIcon\n                    icon={faPlusCircle}\n                    onClick={this.handleAddPortfolio}\n                  />\n                </div>\n              </div>\n            </form>\n          )}\n        </div>\n        {!!this.state.error && (\n          <Error error={this.state.error} handleError={this.handleError} />\n        )}\n      </>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport apiHandler from \"../api/apiHandler\";\nimport \"../styles/Display.scss\";\nimport \"../styles/Edit.scss\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { TextareaAutosize } from \"@material-ui/core\";\nimport { objectToFormData } from \"object-to-formdata\";\nimport Error from \"../components/Error\";\nimport { withUser } from \"../components/Auth/withUser\";\n\n/*\n\nTo Do:\n- Remove creator from list of contributors\n\n*/\n\nclass CollabEdit extends Component {\n  state = {\n    categoryOptions: [],\n    skillOptions: [],\n    saved: true,\n    title: \"\",\n    creator: \"\",\n    contributors: [],\n    allUsers: [],\n    description: \"\",\n    skillsNeeded: [],\n    categoryNeeded: [],\n    image: \"\",\n    open: false,\n    error: undefined,\n  };\n\n  componentDidMount() {\n    apiHandler.getCollab(this.props.match.params.id).then((apiRes) => {\n      this.setState(apiRes);\n    });\n    apiHandler.getCategories().then((apiRes) => {\n      this.setState({ categoryOptions: apiRes });\n    });\n    apiHandler.getSkills().then((apiRes) => {\n      this.setState({ skillOptions: apiRes });\n    });\n    apiHandler.getUsers().then((apiRes) => {\n      this.setState({ allUsers: apiRes });\n    });\n  }\n  handleFormChange = (e) => {\n    if (e.target.name === \"image\") {\n      if (e.target.files[0].size > 750000) {\n        this.setState({ error: \"Maximum file size: 750kb\" });\n        return;\n      }\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.setState({ temporaryPicture: reader.result });\n      };\n      reader.readAsDataURL(e.target.files[0]);\n      this.setState({ image: e.target.files[0], saved: false });\n    } else {\n      this.setState({ [e.target.name]: e.target.value, saved: false });\n    }\n  };\n  handleError = (error) => {\n    this.setState({ error: undefined });\n  };\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.title) {\n      this.setState({ error: \"Please enter a title\" });\n      return;\n    }\n    if (!this.state.description) {\n      this.setState({ error: \"Please enter a description\" });\n      return;\n    }\n    let collab = { ...this.state };\n    delete collab.saved;\n    delete collab.skillOptions;\n    delete collab.categoryOptions;\n    delete collab.temporaryPicture;\n    delete collab._id;\n    delete collab.allUsers;\n    if (collab.contributors) {\n      collab.contributors = JSON.stringify(collab.contributors);\n    }\n    if (collab.skillsNeeded) {\n      collab.skillsNeeded = JSON.stringify(collab.skillsNeeded);\n    }\n    if (collab.categoryNeeded) {\n      collab.categoryNeeded = JSON.stringify(collab.categoryNeeded);\n    }\n    const formData = objectToFormData(collab);\n    apiHandler.patchCollab(this.state._id, formData).then((apiRes) => {\n      this.setState({ apiRes });\n      this.setState({ saved: true });\n    });\n  };\n  handleCategoryChange = (e, value) => {\n    this.setState({ categoryNeeded: value, saved: false });\n  };\n  handleSkillChange = (e, value) => {\n    this.setState({ skillsNeeded: value, saved: false });\n  };\n  handleUserChange = (e, value) => {\n    this.setState({ contributors: value, saved: false });\n  };\n  render() {\n    // console.log(this.props.match.params.username);\n    return (\n      <>\n        <form\n          onChange={this.handleFormChange}\n          onSubmit={this.handleFormSubmit}\n          className=\"display--collab\"\n        >\n          <label htmlFor=\"image\">\n            <div\n              className=\"display__collabimagebox\"\n              style={{\n                backgroundImage:\n                  \"url(\" +\n                  (this.state.temporaryPicture || this.state.image) +\n                  \")\",\n              }}\n            >\n              <input\n                type=\"file\"\n                name=\"image\"\n                id=\"image\"\n                className=\"input--hidden\"\n              />\n              {/* <img\n              className=\"display__picture\"\n              src={this.state.temporaryPicture || this.state.image}\n              alt=\"\"\n            /> */}\n            </div>\n          </label>\n          <div className=\"container display display__collabbody\">\n            <button\n              className={\n                this.state.saved\n                  ? \"edit__button collabbutton saved\"\n                  : \"edit__button collabbutton unsaved\"\n              }\n            >\n              {this.state.saved ? \"Saved\" : \"Save\"}\n            </button>\n            <h2 className=\"display__collabtitle\">\n              <TextareaAutosize\n                type=\"text\"\n                name=\"title\"\n                id=\"title\"\n                value={this.state.title}\n                maxLength={280}\n                placeholder=\"Title\"\n              />\n            </h2>\n\n            <h3 className=\"display__heading\">Description</h3>\n            <TextareaAutosize\n              type=\"description\"\n              name=\"description\"\n              id=\"description\"\n              value={this.state.description}\n              className=\"display__description\"\n              placeholder=\"Description\"\n            />\n\n            <div className=\"display__multiselect\">\n              <h3 className=\"display__heading\">Roles Needed</h3>\n              <Autocomplete\n                multiple\n                onChange={this.handleCategoryChange}\n                limitTags={5}\n                id=\"tags-outlined\"\n                options={this.state.categoryOptions}\n                value={this.state.categoryNeeded}\n                getOptionLabel={(option) => option.name} // specify what property to use\n                filterSelectedOptions\n                renderInput={(params) => <TextField {...params} />}\n              />\n            </div>\n            <div className=\"display__multiselect\">\n              <h3 className=\"display__heading\">Skills Needed</h3>\n              <Autocomplete\n                multiple\n                // limitTags={5}\n                onChange={this.handleSkillChange}\n                id=\"tags-outlined\"\n                options={this.state.skillOptions}\n                value={this.state.skillsNeeded}\n                getOptionLabel={(option) => option.name} // specify what property to use\n                filterSelectedOptions\n                renderInput={(params) => <TextField {...params} />}\n              />\n            </div>\n            <div className=\"display__multiselect\">\n              <h3 className=\"display__heading\">Contributors</h3>\n              <Autocomplete\n                multiple\n                // limitTags={5}\n                onChange={this.handleUserChange}\n                id=\"tags-outlined\"\n                options={this.state.allUsers}\n                value={this.state.contributors}\n                getOptionLabel={(option) => option.name} // specify what property to use\n                filterSelectedOptions\n                renderInput={(params) => <TextField {...params} />}\n              />\n            </div>\n            <ul className=\"display__bullets\">\n              <li className=\"display__bullet\">\n                <select id=\"open\" value={this.state.open} name=\"open\">\n                  <option value={true}>Open to collaborators</option>\n                  <option value={false}>\n                    Not open to collaborators right now\n                  </option>\n                </select>\n              </li>\n              <li className=\"display__bullet\">\n                Created by {this.state.creator.name}\n              </li>\n              <li className=\"display__bullet\">\n                Preferred method of contact for {this.state.creator.name}:{\" \"}\n                {this.state.creator.preferredContact}\n              </li>\n            </ul>\n\n            {this.state.userCollab && (\n              <div className=\"display__collabs\">\n                <h2 className=\"display__heading\">Collabs</h2>\n                {this.state.userCollab.map((collab) => {\n                  return (\n                    <div className=\"display__collab\">\n                      <img\n                        src={collab.image}\n                        alt=\"\"\n                        className=\"display__collabimage\"\n                      />\n                      <h3 className=\"display__collabtitle\">{collab.title}</h3>\n                      <p className=\"display__collabdescription\">\n                        {collab.description}\n                      </p>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </form>\n        {!!this.state.error && (\n          <Error error={this.state.error} handleError={this.handleError} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default withUser(CollabEdit);\n","import React, { Component } from \"react\";\nimport apiHandler from \"../api/apiHandler\";\nimport \"../styles/Display.scss\";\nimport \"../styles/Edit.scss\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { TextareaAutosize } from \"@material-ui/core\";\nimport { objectToFormData } from \"object-to-formdata\";\nimport Error from \"../components/Error\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nclass CollabNew extends Component {\n  state = {\n    categoryOptions: [],\n    skillOptions: [],\n    saved: true,\n    title: \"\",\n    creator: \"\",\n    contributors: [],\n    allUsers: [],\n    description: \"\",\n    skillsNeeded: [],\n    categoryNeeded: [],\n    image: \"\",\n    open: false,\n    error: undefined,\n  };\n  componentDidMount() {\n    apiHandler.getCategories().then((apiRes) => {\n      this.setState({ categoryOptions: apiRes });\n    });\n    apiHandler.getSkills().then((apiRes) => {\n      this.setState({ skillOptions: apiRes });\n    });\n    apiHandler.getUsers().then((apiRes) => {\n      this.setState({ allUsers: apiRes });\n    });\n  }\n  handleFormChange = (e) => {\n    if (e.target.name === \"image\") {\n      if (e.target.files[0].size > 750000) {\n        this.setState({ error: \"Maximum file size: 750kb\" });\n        return;\n      }\n      const reader = new FileReader();\n      reader.onload = () => {\n        this.setState({ temporaryPicture: reader.result });\n      };\n      reader.readAsDataURL(e.target.files[0]);\n      this.setState({ image: e.target.files[0], saved: false });\n    } else {\n      this.setState({ [e.target.name]: e.target.value, saved: false });\n    }\n  };\n  handleError = (error) => {\n    this.setState({ error: undefined });\n  };\n  handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (!this.state.title) {\n      this.setState({ error: \"Please enter a title.\" });\n      return;\n    }\n    if (!this.state.description) {\n      this.setState({ error: \"Please enter a description.\" });\n      return;\n    }\n    let collab = { ...this.state };\n    collab.creator = this.props.context.user._id;\n    delete collab.saved;\n    delete collab.skillOptions;\n    delete collab.categoryOptions;\n    delete collab.temporaryPicture;\n    delete collab._id;\n    delete collab.allUsers;\n    if (collab.contributors) {\n      collab.contributors = JSON.stringify(collab.contributors);\n    }\n    if (collab.skillsNeeded) {\n      collab.skillsNeeded = JSON.stringify(collab.skillsNeeded);\n    }\n    if (collab.categoryNeeded) {\n      collab.categoryNeeded = JSON.stringify(collab.categoryNeeded);\n    }\n    const formData = objectToFormData(collab);\n    apiHandler.postCollab(formData).then((apiRes) => {\n      // console.log(apiRes);\n      this.props.history.push(\"/collab/\" + apiRes._id);\n      this.setState({ apiRes });\n      this.setState({ saved: true });\n    });\n  };\n  handleCategoryChange = (e, value) => {\n    this.setState({ categoryNeeded: value, saved: false });\n  };\n  handleSkillChange = (e, value) => {\n    this.setState({ skillsNeeded: value, saved: false });\n  };\n  handleUserChange = (e, value) => {\n    this.setState({ contributors: value, saved: false });\n  };\n  render() {\n    // console.log(this.props.match.params.username);\n    return (\n      <>\n        <form\n          onChange={this.handleFormChange}\n          onSubmit={this.handleFormSubmit}\n          className=\"display--collab\"\n        >\n          <label htmlFor=\"image\">\n            <div\n              className=\"display__collabimagebox\"\n              style={{\n                backgroundImage:\n                  \"url(\" +\n                  (this.state.temporaryPicture ||\n                    \"https://images.unsplash.com/photo-1566041510632-30055e21a9cf?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=900&h=500&fit=crop&ixid=eyJhcHBfaWQiOjF9\") +\n                  \")\",\n              }}\n            >\n              <input\n                type=\"file\"\n                name=\"image\"\n                id=\"image\"\n                className=\"input--hidden\"\n              />\n            </div>\n          </label>\n          <div className=\"container display display__collabbody\">\n            <button\n              className={\n                this.state.saved\n                  ? \"edit__button collabbutton saved\"\n                  : \"edit__button collabbutton unsaved\"\n              }\n            >\n              {this.state.saved ? \"Saved\" : \"Save\"}\n            </button>\n            <h2 className=\"display__collabtitle\">\n              <TextareaAutosize\n                type=\"text\"\n                name=\"title\"\n                id=\"title\"\n                value={this.state.title}\n                maxLength={280}\n                placeholder=\"Title\"\n              />\n            </h2>\n\n            <h3 className=\"display__heading\">Description</h3>\n            <TextareaAutosize\n              type=\"description\"\n              name=\"description\"\n              id=\"description\"\n              value={this.state.description}\n              className=\"display__description\"\n              placeholder=\"Description\"\n            />\n\n            <div className=\"display__multiselect\">\n              <h3 className=\"display__heading\">Roles Needed</h3>\n              <Autocomplete\n                multiple\n                onChange={this.handleCategoryChange}\n                limitTags={5}\n                id=\"tags-outlined\"\n                options={this.state.categoryOptions}\n                value={this.state.categoryNeeded}\n                getOptionLabel={(option) => option.name} // specify what property to use\n                filterSelectedOptions\n                renderInput={(params) => <TextField {...params} />}\n              />\n            </div>\n            <div className=\"display__multiselect\">\n              <h3 className=\"display__heading\">Skills Needed</h3>\n              <Autocomplete\n                multiple\n                // limitTags={5}\n                onChange={this.handleSkillChange}\n                id=\"tags-outlined\"\n                options={this.state.skillOptions}\n                value={this.state.skillsNeeded}\n                getOptionLabel={(option) => option.name} // specify what property to use\n                filterSelectedOptions\n                renderInput={(params) => <TextField {...params} />}\n              />\n            </div>\n            <div className=\"display__multiselect\">\n              <h3 className=\"display__heading\">Contributors</h3>\n              <Autocomplete\n                multiple\n                // limitTags={5}\n                onChange={this.handleUserChange}\n                id=\"tags-outlined\"\n                options={this.state.allUsers}\n                value={this.state.contributors}\n                getOptionLabel={(option) => option.name} // specify what property to use\n                filterSelectedOptions\n                renderInput={(params) => <TextField {...params} />}\n              />\n            </div>\n            <ul className=\"display__bullets\">\n              <li className=\"display__bullet\">\n                <select id=\"open\" value={this.state.open} name=\"open\">\n                  <option value={true}>Open to collaborators</option>\n                  <option value={false}>\n                    Not open to collaborators right now\n                  </option>\n                </select>\n              </li>\n              <li className=\"display__bullet\">\n                Preferred method of contact:{\" \"}\n                <input\n                  type=\"text\"\n                  name=\"preferredContact\"\n                  id=\"preferredContact\"\n                  value={this.state.preferredContact}\n                />\n              </li>\n            </ul>\n          </div>\n        </form>\n        {!!this.state.error && (\n          <Error error={this.state.error} handleError={this.handleError} />\n        )}\n      </>\n    );\n  }\n}\n\nexport default withUser(CollabNew);\n","import React, { Component } from \"react\";\n\nexport default class MessageCard extends Component {\n  componentDidMount() {\n    console.log(this.props);\n  }\n  truncateMessage(message, length) {\n    if (message.length > length) {\n      return message.substring(0, length) + \"...\";\n    } else return message;\n  }\n  render() {\n    const { recipients, unread, messages, _id } = this.props.message;\n    const user = this.props.user;\n    const lastMessage = messages.length > 1 && messages[messages.length - 1];\n    const correspondent =\n      recipients[0]._id === user._id ? recipients[1] : recipients[0];\n    return (\n      <a href={\"/messages/\" + _id} className=\"messages__onemessage\">\n        <img\n          src={correspondent.profilePicture}\n          className=\"messages__avatar\"\n          alt=\"\"\n        />\n        <div className=\"messages__info\">\n          <div className=\"messages__correspondent\">{correspondent.name}</div>\n          {!!lastMessage && (\n            <div className=\"messages__lastmessage\">\n              {console.log(lastMessage.author)}\n              {lastMessage.author == user._id\n                ? \"You: \"\n                : correspondent.name + \": \"}\n              {this.truncateMessage(lastMessage.content, 100)}\n            </div>\n          )}\n        </div>\n      </a>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport MessageCard from \"../components/Messages/MessageCard\";\nimport apiHandler from \"../api/apiHandler\";\nimport \"../styles/Messages.scss\";\n\nclass Messages extends Component {\n  state = {\n    newMessage: undefined,\n    messages: [],\n    users: [],\n    currentUser: undefined,\n  };\n\n  componentDidMount() {\n    apiHandler.isLoggedIn().then((apiRes) => {\n      this.setState({ currentUser: apiRes }, () => {\n        apiHandler\n          .getAllMessages(this.state.currentUser._id)\n          .then((apiRes) => {\n            console.log(apiRes);\n            this.setState({ messages: apiRes });\n          })\n          .catch((err) => console.log(err));\n      });\n    });\n    apiHandler.getUsers().then((apiRes) => {\n      this.setState({ users: apiRes });\n    });\n  }\n\n  handleUserChange = (e, value) => {\n    this.setState({ newMessage: value });\n  };\n\n  handleCreate = () => {\n    console.log(this.state.newMessage._id);\n    this.state.messages.forEach((message) => {\n      if (\n        message.recipients[0]._id == this.state.newMessage._id ||\n        message.recipients[1]._id == this.state.newMessage._id\n      ) {\n        this.props.history.push(\"/messages/\" + message._id);\n        return;\n      }\n    });\n    apiHandler\n      .createMessageThread(\n        this.state.currentUser._id,\n        this.state.newMessage._id\n      )\n      .then((apiRes) => {\n        console.log(apiRes);\n        this.props.history.push(\"/messages/\" + apiRes._id);\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"messages container\">\n        <div className=\"messages__new\">\n          <p className=\"messages__to\">To:</p>\n          <Autocomplete\n            onChange={this.handleUserChange}\n            id=\"tags-outlined\"\n            options={this.state.users}\n            value={this.state.newMessage}\n            getOptionLabel={(option) => option.name} // specify what property to use\n            filterSelectedOptions\n            renderInput={(params) => <TextField {...params} />}\n          />\n          <button\n            className=\"messages__createbutton edit__button\"\n            onClick={this.handleCreate}\n          >\n            New\n          </button>\n        </div>\n        <div className=\"messages__list\">\n          {this.state.messages ? (\n            this.state.messages.map((message) => {\n              if (message.messages.length > 1) {\n                return (\n                  <MessageCard\n                    message={message}\n                    user={this.state.currentUser}\n                  />\n                );\n              }\n            })\n          ) : (\n            <p>No messages to display</p>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withUser(Messages);\n","import React, { Component } from \"react\";\n\nexport default class OneMessage extends Component {\n  render() {\n    const message = this.props.message;\n    const time = new Date(message.time);\n    const user = this.props.user;\n    const own = this.props.message.author === user._id;\n    const readableDate =\n      \"\" +\n      time.getHours() +\n      \":\" +\n      (time.getMinutes() < 10 ? \"0\" : \"\") +\n      time.getMinutes() +\n      \" \" +\n      time.getDay() +\n      \"/\" +\n      time.getMonth() +\n      \"/\" +\n      time.getFullYear();\n    console.log(readableDate);\n    return (\n      <div className={\"message__onemessage \" + (own ? \"sent\" : \"received\")}>\n        <div className=\"message__time\">{readableDate}</div>\n        <div className=\"message__content\">{message.content}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { TextareaAutosize } from \"@material-ui/core\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\nimport OneMessage from \"../components/Messages/OneMessage\";\nimport \"../styles/Message.scss\";\n\nclass Message extends Component {\n  state = {\n    messages: [],\n    newMessage: [],\n    correspondent: undefined,\n    recipients: undefined,\n  };\n  sendMessage = () => {\n    const message = {\n      time: Date.now(),\n      author: this.props.context.user,\n      content: this.state.newMessage,\n    };\n    console.log(message);\n    apiHandler\n      .sendOneMessage(this.props.match.params.id, message)\n      .then((apiRes) =>\n        this.setState({ messages: apiRes.messages, newMessage: \"\" })\n      )\n      .catch((err) => console.log(err));\n  };\n  componentDidMount = () => {\n    apiHandler.getOneMessage(this.props.match.params.id).then((apiRes) =>\n      this.setState(\n        {\n          messages: apiRes.messages,\n          recipients: apiRes.recipients,\n        },\n        () => {\n          apiHandler.isLoggedIn().then((apiRes) => {\n            this.setState({ user: apiRes }, () => {\n              if (this.state.recipients && this.state.user) {\n                this.state.recipients[0]._id === this.state.user._id\n                  ? this.setState({ recipient: this.state.recipients[1] })\n                  : this.setState({ recipient: this.state.recipients[0] });\n              }\n            });\n          });\n        }\n      )\n    );\n  };\n  updateScroll() {\n    console.log(\"scroll\");\n    let element = document.querySelector(\".message__scrollcontainer\");\n    console.log(element);\n    element.scrollTop = element.scrollHeight;\n  }\n  componentDidUpdate = () => {\n    this.updateScroll();\n  };\n  render() {\n    return (\n      <div className=\"message container\">\n        <div className=\"message__header\">\n          <a className=\"message__back\" href=\"/messages\">\n             Back\n          </a>\n          <span className=\"message__recipient\">\n            {!!this.state.recipient && (\n              <img\n                className=\"message__avatar\"\n                src={this.state.recipient.profilePicture}\n                alt=\"\"\n              />\n            )}\n            {!!this.state.recipient && this.state.recipient.name}\n          </span>\n          <span className=\"message__back message__hidden\"> Back</span>\n        </div>\n        <div className=\"message__scrollcontainer\">\n          <div className=\"message__thread\">\n            {this.state.messages &&\n              this.state.user &&\n              this.state.messages.map(\n                (message, index) =>\n                  index > 0 && (\n                    <OneMessage message={message} user={this.state.user} />\n                  )\n              )}\n          </div>\n        </div>\n        <div className=\"message__compose\">\n          <div className=\"message__textcontainer\">\n            <TextareaAutosize\n              placeholder={\"New Message\"}\n              value={this.state.newMessage}\n              onChange={(e) => {\n                console.log(this.state);\n                this.setState({ newMessage: e.target.value });\n              }}\n            />\n          </div>\n          <button\n            className=\"edit__button message__sendmessage\"\n            onClick={this.sendMessage}\n          >\n            Send\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withUser(Message);\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nconst Tabs = () => {\n  return (\n    <div className=\"tabs\">\n      <div className=\"tabs__item\">\n        <NavLink exact activeClassName=\"tabs--active\" className='tabs__link' to=\"/\">\n          Freelancers\n        </NavLink>\n      </div>\n      <div className=\"tabs__item\">\n        <NavLink exact activeClassName=\"tabs--active\" className='tabs__link' to=\"/collabs\">\n          Collaborations\n        </NavLink>\n      </div>\n    </div>\n  );\n};\n\nexport default Tabs;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n// import FreelancerSkill from './FreelancerSkill';\n\nconst FreelancerCard = ({ freelancer }) => {\n  return (\n    <Link className=\"card\" to={`/${freelancer.userName}`}>\n      <div\n        style={{ backgroundImage: `url(${freelancer.profilePicture})` }}\n        className=\"card__aside\"\n      ></div>\n      <div className=\"card__body\">\n        <h3 className=\"card__title\">\n          {freelancer.userCategory.map((el, index) => (\n            <div key={index}>{el.name}</div>\n          ))}\n        </h3>\n        {/* <div className=\"card__skills\">\n          {freelancer.userSkills.map((skill, index) => (\n            <FreelancerSkill key={index} skill={skill} />\n          ))}\n        </div> */}\n        <h2 className=\"card__subtitle\">{freelancer.name}</h2>\n        <p className=\"card__copy\">{freelancer.location}</p>\n        <p className=\"card__copy\">\n          {freelancer.remote\n            ? \"I don't mind working remotely.\"\n            : 'I prefer working on site.'}\n        </p>\n      </div>\n    </Link>\n  );\n};\n\nexport default FreelancerCard;\n","import React, { Component } from 'react';\nimport apiHandler from '../../api/apiHandler';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\n\nclass FilterFreelance extends Component {\n  state = {\n    // filter parameters from user input\n    filterCity: [],\n    filterCategory: [],\n    filterSkill: [],\n\n    // curated database provided for autocomplete\n    categoriesUsed: [],\n    skillsUsed: [],\n    citiesUsed: [],\n\n    //full list of freelancers\n    filteredFreelancersArray: [],\n  };\n\n  componentDidMount() {\n    apiHandler\n      .filterUsedCategories()\n      .then((res) => this.setState({ categoriesUsed: res }))\n      .catch((err) => console.log(err));\n\n    apiHandler\n      .filterUsedSkills()\n      .then((res) => this.setState({ skillsUsed: res }))\n      .catch((err) => console.log(err));\n\n    apiHandler\n      .filterUsedCities()\n      .then((res) => this.setState({ citiesUsed: res }))\n      .catch((err) => console.log(err));\n  }\n\n  handleCityChange = (e, value) => {\n    this.setState({ filterCity: value });\n    this.handleFreelancersUpdate(\n      value,\n      this.state.filterCategory,\n      this.state.filterSkill\n    );\n  };\n\n  handleCategoryChange = (e, value) => {\n    this.setState({ filterCategory: value });\n    this.handleFreelancersUpdate(\n      this.state.filterCity,\n      value,\n      this.state.filterSkill\n    );\n  };\n\n  handleSkillChange = (e, value) => {\n    this.setState({ filterSkill: value });\n    this.handleFreelancersUpdate(\n      this.state.filterCity,\n      this.state.filterCategory,\n      value\n    );\n  };\n\n  handleFreelancersUpdate = (location, categories, skills) => {\n    let filteredFreelancers = [...this.props.freelancers];\n    if (location) {\n      filteredFreelancers = filteredFreelancers.filter((user) =>\n        user.location.includes(location)\n      );\n    }\n\n    if (categories) {\n      categories.forEach((category) => {\n        filteredFreelancers = filteredFreelancers.filter(\n          // (user) => user.userCategory[0]._id === category._id\n          // (user) => user.userCategory.includes(category)\n          (user) => {\n            for (let i = 0; i < user.userCategory.length; i++) {\n              return user.userCategory[i]._id === category._id;\n            }\n          }\n          // }\n        );\n      });\n      // return filteredFreelancers\n      // this.props.updateFreelancersFeed(filteredFreelancers);\n      // console.log(filteredFreelancers);\n    }\n    if (skills)\n      skills.forEach((skill) => {\n        filteredFreelancers = filteredFreelancers.filter((user) =>\n          user.userSkills.includes(skill)\n        );\n      });\n    this.props.updateFreelancersFeed(filteredFreelancers);\n  };\n\n  render() {\n    return (\n      <form className=\"filter\" action=\"\">\n        <div className=\"filter__group\">\n          <div className=\"filter__label\">Pick a location</div>\n          <Autocomplete\n            className=\"filter__input\"\n            onChange={this.handleCityChange}\n            value={this.state.filterCity}\n            limitTags={3}\n            id=\"tags-outlined\"\n            options={this.state.citiesUsed || ''}\n            // defaultValue=\"search\"\n            getOptionLabel={(option) => option} // specify what property to use\n            filterSelectedOptions\n            renderInput={(params) => <TextField {...params} />}\n          />\n        </div>\n        <div className=\"filter__group\">\n          <div className=\"filter__label\">Category</div>\n          <Autocomplete\n            className=\"filter__input\"\n            multiple\n            onChange={this.handleCategoryChange}\n            limitTags={3}\n            id=\"tags-outlined\"\n            value={this.state.filterCategory}\n            options={this.state.categoriesUsed || ''}\n            getOptionLabel={(option) => option.name} // specify what property to use\n            filterSelectedOptions\n            renderInput={(params) => <TextField {...params} />}\n          />\n        </div>\n        <div className=\"filter__group\">\n          <div className=\"filter__label\">Skills</div>\n          <Autocomplete\n            className=\"filter__input\"\n            multiple\n            onChange={this.handleSkillChange}\n            value={this.state.filterSkill}\n            limitTags={3}\n            id=\"tags-outlined\"\n            options={this.state.skillsUsed || ''}\n            getOptionLabel={(option) => option.name} // specify what property to use\n            filterSelectedOptions\n            renderInput={(params) => <TextField {...params} />}\n          />\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default FilterFreelance;\n","import React, { Component } from \"react\";\nimport Tabs from \"../components/Nav/Tabs\";\nimport FreelancerCard from \"../components/Cards/FreelancerCard\";\nimport FilterFreelance from \"../components/Filters/FilterFreelance\";\nimport apiHandler from \"../api/apiHandler\";\n\nimport \"../styles/FeedPage.scss\";\n\nclass FreelancersFeed extends Component {\n  state = {\n    freelancers: [],\n    filteredFreelancers: [],\n  };\n\n  componentDidMount() {\n    apiHandler\n      .getFreelancers()\n      .then((apiRes) =>\n        this.setState({ freelancers: apiRes, filteredFreelancers: apiRes })\n      )\n      .catch((err) => console.log(err));\n  }\n\n  updateFreelancersFeed = (filteredArray) => {\n    this.setState({ filteredFreelancers: filteredArray });\n  };\n\n  render() {\n    return (\n      <div className=\"feed-container\">\n        <Tabs />\n\n        {!this.state.freelancers && (\n          <h2>\n            Sorry, no freelancers found{\" \"}\n            <span role=\"img\" aria-label=\"confused-face-emoji\">\n              \n            </span>\n          </h2>\n        )}\n\n        <FilterFreelance\n          freelancers={this.state.freelancers}\n          updateFreelancersFeed={this.updateFreelancersFeed}\n        />\n\n        {this.state.filteredFreelancers.map((freelancer, index) => (\n          <FreelancerCard key={index} freelancer={freelancer} />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default FreelancersFeed;\n","import React from 'react';\n\nconst FilterCollab = () => {\n  return (\n    <form className=\"filter\" action=\"\">\n      <div className=\"filter__group\">\n        <label className=\"filter__label\" htmlFor=\"city\">\n          City\n        </label>\n        <br></br>\n        <input className=\"filter__input\" name=\"city\" id=\"city\" type=\"text\" />\n      </div>\n      <div className=\"filter__group\">\n        <label className=\"filter__label\" htmlFor=\"category\">\n          Category\n        </label>\n        <br></br>\n        <input\n          className=\"filter__input\"\n          type=\"text\"\n          name=\"category\"\n          id=\"category\"\n        />\n      </div>\n      <div className=\"filter__group\">\n        <label className=\"filter__label\" htmlFor=\"skills\">\n          Skill\n        </label>\n        <br></br>\n        <input\n          className=\"filter__input\"\n          type=\"text\"\n          name=\"skills\"\n          id=\"skills\"\n        />\n      </div>\n    </form>\n  );\n};\n\nexport default FilterCollab;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst CollabCard = ({ collab }) => {\n  return (\n    <Link className=\"card\" to={`/collab/${collab._id}`}>\n      <div\n        style={{ backgroundImage: `url(${collab.image})` }}\n        className=\"card__aside\"\n      ></div>\n      <div className=\"card__body\">\n        <h3 className=\"card__title\">{collab.title}</h3>\n        <p className=\"card__copy\">{collab.description}</p>\n        <p className=\"card__copy\">\n          {collab.open\n            ? 'Accepting coworkers!'\n            : 'This project team is complete.'}\n        </p>\n      </div>\n    </Link>\n  );\n};\n\nexport default CollabCard;\n\n// \"contributors\": [{\n//     \"$oid\": \"5ebe711a3862d0186662867d\"\n// }],\n// \"skillsNeeded\": [{\n//     \"$oid\": \"5ebe6fb83d3c4d18255f6d1f\"\n// }, {\n//     \"$oid\": \"5ebe6fea3d3c4d18255fc047\"\n// }, {\n//     \"$oid\": \"5ebe6fc53d3c4d18255f83c4\"\n// }],\n// \"categoryNeeded\": [{\n//     \"$oid\": \"5ebe7103d29493185af2e650\"\n// }, {\n//     \"$oid\": \"5ebe7103d29493185af2e657\"\n// }],\n// \"image\": \"https://images.unsplash.com/uploads/141103282695035fa1380/95cdfeef?crop=entropy&cs=tinysrgb&fit=crop&fm=jpg&h=500&ixid=eyJhcHBfaWQiOjF9&ixlib=rb-1.2.1&q=80&w=900\",\n// \"title\": \"Cool Idea\",\n// \"description\": \"Yeah, I do that with my stupidness\",\n// \"open\": true,\n// \"creator\": {\n//     \"$oid\": \"5ebe711a3862d01866628674\"\n// },\n// \"__v\": 0\n","import React from 'react';\nimport Tabs from '../components/Nav/Tabs';\nimport apiHandler from '../api/apiHandler';\nimport FilterCollab from '../components/Filters/FilterCollab';\nimport CollabCard from '../components/Cards/CollabCard';\n\nimport '../styles/FeedPage.scss';\n\nclass CollabsFeed extends React.Component {\n  state = {\n    collabs: [],\n  };\n\n  componentDidMount() {\n    apiHandler\n      .getCollabs()\n      .then((apiRes) => this.setState({ collabs: apiRes }))\n      .catch((err) => console.log(err));\n  }\n\n  render() {\n    return (\n      <div className=\"feed-container\">\n        <Tabs />\n        {!this.state.collabs && (\n          <h2>\n            Sorry, no collaborations found{' '}\n            <span role=\"img\" aria-label=\"confused-face-emoji\">\n              \n            </span>\n          </h2>\n        )}\n        <FilterCollab />\n        {this.state.collabs.map((collab, index) => (\n          <CollabCard key={index} collab={collab} />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default CollabsFeed;\n","import React, { Component } from \"react\";\nimport apiHandler from \"../api/apiHandler\";\nimport \"../styles/Display.scss\";\nimport Badges from \"../components/Badges\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faUserFriends,\n  faUserLock,\n  faPenFancy,\n  faCommentAlt,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nclass Collab extends Component {\n  state = {\n    categoryOptions: [],\n    skillOptions: [],\n    saved: true,\n    title: \"\",\n    creator: \"\",\n    contributors: [],\n    description: \"\",\n    skillsNeeded: [],\n    categoryNeeded: [],\n    image: \"\",\n    open: false,\n  };\n  componentDidMount() {\n    apiHandler.getCollab(this.props.match.params.id).then((apiRes) => {\n      this.setState(apiRes);\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"display--collab\">\n        {this.state.image && (\n          <div\n            className=\"display__collabimagebox\"\n            style={{ backgroundImage: \"url(\" + this.state.image + \")\" }}\n          ></div>\n        )}\n        <div className=\"container display display__collabbody\">\n          {this.props.context.user &&\n            this.props.context.user._id === this.state.creator._id && (\n              <button\n                className={\"edit__button collabbutton\"}\n                onClick={() => {\n                  this.props.history.push(\n                    \"/collab/\" + this.props.match.params.id + \"/edit\"\n                  );\n                }}\n              >\n                Edit\n              </button>\n            )}\n          <h2 className=\"display__collabtitle\">{this.state.title}</h2>\n          <h3 className=\"display__heading\">Description</h3>\n          <div className=\"display__description\">{this.state.description}</div>\n          <ul className=\"display__bullets\">\n            <li className=\"display__bullet\">\n              {this.state.open ? (\n                <>\n                  <FontAwesomeIcon icon={faUserFriends} /> This project is\n                  seeking collaborators\n                </>\n              ) : (\n                <>\n                  <FontAwesomeIcon icon={faUserLock} />\n                  This project is not seeking collaborators\n                </>\n              )}\n            </li>\n            <li className=\"display__bullet\">\n              <FontAwesomeIcon icon={faPenFancy} />\n              Created by{\" \"}\n              <a href={\"/\" + this.state.creator.userName}>\n                {this.state.creator.name}\n              </a>\n            </li>\n            <li className=\"display__bullet\">\n              <FontAwesomeIcon icon={faCommentAlt} />\n              Preferred method of contact: {this.state.creator.preferredContact}\n            </li>\n          </ul>\n          <Badges\n            heading={\"Roles Needed\"}\n            data={this.state.categoryNeeded}\n            label={\"name\"}\n            className=\"display__fullwidth\"\n          />\n          <Badges\n            heading={\"Skills Needed\"}\n            data={this.state.skillsNeeded}\n            label={\"name\"}\n            className=\"display__fullwidth\"\n          />\n          <Badges\n            heading={\"Collaborators\"}\n            data={this.state.contributors}\n            label={\"name\"}\n            className=\"display__fullwidth\"\n            linked={true}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withUser(Collab);\n","import React from 'react';\n\nconst About = () => {\n  return (\n    <div className=\"about-container\">\n      <h1 className=\"about-container__title\">About Freely</h1>\n      <div className=\"about-container__body\">\n        <p className=\"about-container__text\">This is the about page</p>\n      </div>\n    </div>\n  );\n};\n\nexport default About;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons';\n\nconst Error_404 = () => {\n  return (\n    <div className=\"error-page\">\n      <h1 className=\"error-page__title\">\n        Woooops<br></br>\n        <span>four-oh-four</span>\n      </h1>\n      <img\n        src=\"./media/error_404.svg\"\n        alt=\"error page palm-tree not-found\"\n        className=\"error-page__image\"\n      />\n      <div className=\"error-page__body\">\n        <p>wtf did you type in the URL?!</p>\n        <Link to=\"/\">\n          <h3>\n            <FontAwesomeIcon icon={faChevronLeft} className='error-page__body--icon' /> Back home\n          </h3>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Error_404;\n","import React, { Component } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\n// components\nimport NavBar from \"./components/Nav/NavBar\";\nimport Backdrop from \"./components/Nav/Backdrop\";\nimport ProtectedRoute from \"./components/Auth/ProtectedRoute\";\nimport ProtectedEditRoute from \"./components/Auth/ProtectedEditRoute\";\nimport HamburgerMenu from \"./components/Nav/HamburgerMenu\";\n\n// pages\nimport Profile from \"./pages/Profile\";\nimport Login from \"./pages/Login\";\nimport ProfileEdit from \"./pages/ProfileEdit\";\nimport CollabEdit from \"./pages/CollabEdit\";\nimport CollabNew from \"./pages/CollabNew\";\nimport Messages from \"./pages/Messages\";\nimport Message from \"./pages/Message\";\nimport FreelancersFeed from \"./pages/FreelancersFeed\";\nimport CollabsFeed from \"./pages/CollabsFeed\";\nimport Collab from \"./pages/Collab\";\nimport About from \"./pages/About\";\nimport Error_404 from \"./pages/Error_404\";\n\nexport default class App extends Component {\n  state = {\n    hamburgerMenuOpen: false,\n  };\n\n  hamburgerMenuToggleHandler = () => {\n    this.setState((prevState) => {\n      return { hamburgerMenuOpen: !prevState.hamburgerMenuOpen };\n    });\n  };\n\n  backdropClickHandler = () => {\n    this.setState({ hamburgerMenuOpen: false });\n  };\n\n  render() {\n    return (\n      // <div className=\"App\" onLoad={window.scroll(0, 0)}>\n      <div className=\"App\">\n        <NavBar\n          toggled={this.state.hamburgerMenuOpen}\n          hamburgerClickHandler={this.hamburgerMenuToggleHandler}\n          click={this.backdropClickHandler}\n        />\n        {this.state.hamburgerMenuOpen ? (\n          <Backdrop click={this.backdropClickHandler} />\n        ) : null}\n        {/* display on/off is handled in the CSS */}\n        <HamburgerMenu\n          show={this.state.hamburgerMenuOpen}\n          click={this.backdropClickHandler}\n        />\n        <main className=\"main\">\n          <Switch>\n            <Route exact path=\"/\" component={FreelancersFeed} />\n            <Route exact path=\"/collabs\" component={CollabsFeed} />\n            <ProtectedRoute exact path=\"/messages\" component={Messages} />\n            <ProtectedRoute exact path=\"/messages/:id\" component={Message} />\n            <Route exact path=\"/collab/new\" component={CollabNew} />\n            <ProtectedRoute\n              exact\n              path=\"/collab/:id/edit\"\n              component={CollabEdit}\n            />\n            <Route exact path=\"/collab/:id\" component={Collab} />\n            <Route exact path=\"/about\" component={About} />\n            <Route exact path=\"/login\" component={Login} />\n            <ProtectedEditRoute\n              exact\n              // path={`/:${username}/edit`}\n              path=\"/:username/edit\"\n              component={ProfileEdit}\n            />\n            <Route exact path=\"/error_404\" component={Error_404} />\n            {/* if no username */}\n            <Route exact path=\"/:username\" component={Profile} />\n          </Switch>\n        </main>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/global.scss\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}