(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(16),s=a.n(r),i=a(11),c=a(7),o=a(8),m=a(10),u=a(9),d=a(35),p=a(47),h=a.n(p),f=h.a.create({baseURL:"https://freely--app.herokuapp.com",withCredentials:!0});function g(e){if(e.response.data)throw console.log(e.response&&e.response.data),e;throw e}var _=function(e){return f.post("/api/auth/signup",e).then((function(e){return e.data})).catch(g)},E=function(e){return f.post("/api/auth/signin",e).then((function(e){return e.data})).catch(g)},b=function(){return f.get("/api/auth/isLoggedIn").then((function(e){return e.data})).catch(g)},v=function(){return f.get("/api/auth/logout").then((function(e){return e.data})).catch(g)},y=function(){return f.get("/api/users").then((function(e){return e.data})).catch(g)},N=function(e,t){return f.get("/api/users?".concat(e,"=").concat(t)).then((function(e){return e.data})).catch(g)},k=function(e,t){return f.patch("/api/users/".concat(e),t).then((function(e){return e.data})).catch(g)},S=function(e){return f.get("/api/collabs/"+e).then((function(e){return e.data})).catch(g)},C=function(e,t){return f.patch("/api/collabs/".concat(e),t).then((function(e){return e.data})).catch(g)},O=function(e){return f.post("/api/collabs/",e).then((function(e){return e.data})).catch(g)},j=function(){return f.get("/api/collabs").then((function(e){return e.data}))},w=function(){return f.get("/api/categories").then((function(e){return e.data}))},x=function(){return f.get("/api/skills").then((function(e){return e.data}))},P=function(){return f.get("/api/users").then((function(e){return Object(d.a)(e.data).filter((function(e){return e.bio&&e.location&&e.title&&e.userCategory})).map((function(e){return e.location})).sort((function(e,t){return e>t})).reduce((function(e,t){return e.slice(-1)[0]!==t&&e.push(t),e}),[])})).catch(g)},F=function(){return f.get("/api/skills").then((function(e){return e.data.filter((function(e){return e.currentlyInUse}))})).catch(g)},U=function(){return f.get("/api/categories").then((function(e){return e.data.filter((function(e){return e.currentlyInUse}))})).catch((function(e){return console.log(e)}))},L=function(){return f.get("/api/users").then((function(e){return e.data.filter((function(e){return e.bio&&e.location&&e.title&&e.userCategory}))})).catch(g)},A=function(e,t){return f.post("/api/messages/new/".concat(e,"/").concat(t)).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},M=function(e){return f.get("/api/messages/message/"+e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},I=function(e,t){return f.post("/api/messages/message/"+e,t).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},D=function(e){return f.get("/api/messages/user/"+e).then((function(e){return e.data})).catch((function(e){return console.log(e)}))},T=l.a.createContext(),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={user:null,isLoggedIn:!1,isLoading:!0},e.setUser=function(t){e.setState({user:t,isLoggedIn:!0})},e.removeUser=function(){e.setState({user:null,isLoggedIn:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b().then((function(t){e.setState({user:t,isLoggedIn:!0,isLoading:!1})})).catch((function(t){console.log(t),e.setState({user:null,isLoggedIn:!1,isLoading:!1})}))}},{key:"render",value:function(){var e={user:this.state.user,setUser:this.setUser,removeUser:this.removeUser,isLoggedIn:this.state.isLoggedIn,isLoading:this.state.isLoading};return l.a.createElement(T.Provider,{value:e},this.props.children)}}]),a}(n.Component),J=a(19),H=function(e){return function(t){return l.a.createElement(T.Consumer,null,(function(a){return l.a.createElement(e,Object.assign({},t,{context:a}))}))}},z=function(e){var t=["hamburger-btn__line"];return e.hamburgerToggle&&t.push("animate"),l.a.createElement("button",{className:"hamburger-btn",onClick:e.click},l.a.createElement("div",{className:t.join(" ")}),l.a.createElement("div",{className:t.join(" ")}),l.a.createElement("div",{className:t.join(" ")}))},B=(a(107),H((function(e){return l.a.createElement(T.Consumer,null,(function(t){return l.a.createElement("nav",{id:"Nav",className:"Nav"},l.a.createElement(i.c,{exact:!0,onClick:e.click,to:"/"},l.a.createElement("h3",{className:"Nav__logo"},"Freely")),l.a.createElement("ul",{className:"Nav__list"},l.a.createElement("li",{className:"Nav__item"},l.a.createElement(i.c,{className:"Nav__link",exact:!0,onClick:e.click,to:t.user?"/collabs-create":"/login"},l.a.createElement("span",{className:"Nav__plus-icon"},"+"),l.a.createElement("p",{className:"Nav__plus-icon-text"},"Create a bundle"))),l.a.createElement("li",{className:"Nav__item"},l.a.createElement(i.c,{className:"Nav__link",onClick:e.click,to:t.user?"/".concat(t.user.userName):"/login"},t.user&&l.a.createElement("div",null,t.user.name),!t.user&&l.a.createElement("div",null,"Profile"))),l.a.createElement("li",{className:"Nav__item hamburger__button"},l.a.createElement(z,{click:e.hamburgerClickHandler,hamburgerToggle:e.toggled})),t.user&&l.a.createElement("li",{className:"Nav__item hamburger__item"},l.a.createElement(i.c,{className:"Nav__link",exact:!0,to:"/messages"},"Messages")),l.a.createElement("li",{className:"Nav__item hamburger__item"},l.a.createElement(i.c,{className:"Nav__link",exact:!0,to:"/collabs-create"},"About")),t.user&&l.a.createElement("li",{className:"Nav__item hamburger__item"},l.a.createElement(i.c,{className:"Nav__link",exact:!0,to:"/",onClick:function(e){return a=t.removeUser,void v().then((function(){a()})).catch((function(e){console.log(e)}));var a}},"Log Out")),!t.user&&l.a.createElement("li",{className:"Nav__item hamburger__item primary-btn"},l.a.createElement(i.c,{className:"Nav__link",exact:!0,to:"/login"},"Join"))))}))}))),W=function(e){return l.a.createElement("div",{className:"backdrop",onClick:e.click},l.a.createElement("div",{className:"backdrop__secondary",onClick:e.click}))},q=a(53),Y=H((function(e){var t=e.component,a=e.context,n=Object(q.a)(e,["component","context"]);return a.isLoading?null:a.isLoggedIn?l.a.createElement(J.b,Object.assign({},n,{render:function(e){return l.a.createElement(t,e)}})):l.a.createElement(J.a,{to:"/login"})})),$=H((function(e){var t=e.component,a=e.context,n=(e.path,e.username,Object(q.a)(e,["component","context","path","username"]));return a.isLoading?null:a.isLoggedIn?l.a.createElement(J.b,Object.assign({},n,{render:function(e){return l.a.createElement(t,e)}})):l.a.createElement(J.a,{to:"/error_404"})})),Z=function(e){var t=["hamburger-menu"];e.show&&t.push("open");return l.a.createElement(T.Consumer,null,(function(a){return l.a.createElement("nav",{className:t.join(" ")},l.a.createElement("ul",{className:"hamburger-menu__list"},a.user&&l.a.createElement("li",{className:"hamburger-menu__item"},l.a.createElement(i.b,{className:"hamburger-menu__link",onClick:e.click,to:"/messages"},"Messages")),!a.user&&l.a.createElement("li",{className:"hamburger-menu__item"},l.a.createElement(i.b,{className:"hamburger-menu__link",to:"/login",onClick:e.click},"Join Us")),l.a.createElement("li",{className:"hamburger-menu__item"},l.a.createElement(i.b,{className:"hamburger-menu__link",to:"/about",onClick:e.click},"About")),a.user&&l.a.createElement("li",{className:"hamburger-menu__item"},l.a.createElement(i.b,{className:"hamburger-menu__link",to:"/",onClick:function(t){return n=a.removeUser,l=e.click,v().then((function(){n()})).catch((function(e){console.log(e)})),void l();var n,l}},"Log Out"))))}))},G=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.heading,a=e.data,n=e.label,r=e.className,s=e.linked;return l.a.createElement("div",{className:r},l.a.createElement("h3",{className:"display__heading"},t),l.a.createElement("ul",{className:"display__badgelist"},a.map((function(e){return s?l.a.createElement("li",{className:"display__badge"},l.a.createElement("a",{href:"/"+e.userName},e[n])):l.a.createElement("li",{className:"display__badge"},e[n])}))))}}]),a}(n.Component),K=a(5),Q=a(14),V=a(17),X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("span",{className:"linkicon"},function(e){e=e.toLowerCase();var t=l.a.createElement(K.a,{icon:Q.f});return e.match(/facebook.com/)?t=l.a.createElement(K.a,{icon:V.d}):e.match(/twitter.com/)?t=l.a.createElement(K.a,{icon:V.s}):e.match(/linkedin.com/)?t=l.a.createElement(K.a,{icon:V.i}):e.match(/instagram.com/)?t=l.a.createElement(K.a,{icon:V.h}):e.match(/dribble/)?t=l.a.createElement(K.a,{icon:V.b}):e.match(/etsy.com/)?t=l.a.createElement(K.a,{icon:V.c}):e.match(/flickr.com/)?t=l.a.createElement(K.a,{icon:V.e}):e.match(/goodreads.com/)?t=l.a.createElement(K.a,{icon:V.g}):e.match(/dev.to/)?t=l.a.createElement(K.a,{icon:V.a}):e.match(/github.com/)?t=l.a.createElement(K.a,{icon:V.f}):e.match(/medium.com/)?t=l.a.createElement(K.a,{icon:V.j}):e.match(/patreon.com/)?t=l.a.createElement(K.a,{icon:V.k}):e.match(/paypal/)?t=l.a.createElement(K.a,{icon:V.l}):e.match(/pscp.tv/)?t=l.a.createElement(K.a,{icon:V.m}):e.match(/pinterest.com/)?t=l.a.createElement(K.a,{icon:V.n}):e.match(/producthunt.com/)?t=l.a.createElement(K.a,{icon:V.o}):e.match(/reddit.com/)?t=l.a.createElement(K.a,{icon:V.p}):e.match(/soundcloud.com/)?t=l.a.createElement(K.a,{icon:V.q}):e.match(/spotify.com/)?t=l.a.createElement(K.a,{icon:V.r}):e.match(/vimeo.com/)?t=l.a.createElement(K.a,{icon:V.t}):e.match(/wordpress.com/)?t=l.a.createElement(K.a,{icon:V.u}):e.match(/youtube.com/)&&(t=l.a.createElement(K.a,{icon:V.v})),t}(this.props.link))}}]),a}(n.Component),ee=(a(41),H(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N("userName",this.props.match.params.username).then((function(t){e.setState(t[0])}))}},{key:"parselink",value:function(e){if(!e.match(/^http/))return"http://"+e}},{key:"render",value:function(){var e=this;return console.log(this.props.context),l.a.createElement("div",{className:"display container"},this.props.context.user&&this.props.context.user._id===this.state._id&&l.a.createElement("button",{className:"edit__button collabbutton",onClick:function(){e.props.history.push("/"+e.state.userName+"/edit")}},"Edit"),this.state.profilePicture&&l.a.createElement("div",{className:"display__avatarbox"},l.a.createElement("img",{className:"display__picture",src:this.state.profilePicture,alt:""})),l.a.createElement("h2",{className:"display__name"},this.state.name),this.state.userCategory&&l.a.createElement(G,{data:this.state.userCategory,label:"name"}),this.state.title&&l.a.createElement("div",{className:"display__title"},this.state.title),this.state.socialLinks&&l.a.createElement("div",{className:"display__sociallinks"},this.state.socialLinks.map((function(t,a){return l.a.createElement("a",{href:e.parselink(t),target:"_blank",rel:"noopener noreferrer",key:a,className:"display__sociallink"},l.a.createElement(X,{link:t}))}))),l.a.createElement("ul",{className:"display__bullets"},this.state.openToProjects&&l.a.createElement("li",{className:"display__bullet"},l.a.createElement("span",{className:"bulleticon"},l.a.createElement(K.a,{icon:Q.m})),"Open to collaborations"),this.state.remote&&this.state.openToProjects&&l.a.createElement("li",{className:"display__bullet"},l.a.createElement("span",{className:"bulleticon"},l.a.createElement(K.a,{icon:Q.e})),"Open to remote collabs"),this.state.location&&l.a.createElement("li",{className:"display__bullet"},l.a.createElement("span",{className:"bulleticon"},l.a.createElement(K.a,{icon:Q.g})),"Based in ",this.state.location||""),this.state.preferredContact&&l.a.createElement("li",{className:"display__bullet"},l.a.createElement("span",{className:"bulleticon"},l.a.createElement(K.a,{icon:Q.d})),"Preferred contact: ",this.state.preferredContact)),this.state.userSkills&&l.a.createElement(G,{heading:"Skills",data:this.state.userSkills,label:"name",className:"display__fullwidth"}),this.state.bio&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{className:"display__heading"},"About"),l.a.createElement("div",{className:"display__bio"},this.state.bio)),this.state.portfolio&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{className:"display__heading"},"Portfolio"),l.a.createElement("div",{className:"display__portfolio"},this.state.portfolio.map((function(t,a){return l.a.createElement("div",{key:a,className:"display__portfolioitem"},l.a.createElement("img",{className:"display__portfolioimage",src:t.image,alt:""}),l.a.createElement("div",{className:"display__portfoliotext"},l.a.createElement("h3",{className:"display__portfoliotitle"},t.title),l.a.createElement("div",{className:"display__portfoliodescription"},t.description),t.link&&l.a.createElement("div",{className:"display__portfoliolink"},l.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.parselink(t.link)},"Link \xbb"))))})))),this.state.userCollab&&l.a.createElement("div",{className:"display__collabs"},l.a.createElement("h2",{className:"display__heading"},"Collabs"),this.state.userCollab.map((function(e,t){return l.a.createElement("div",{key:t,className:"display__collabcard"},l.a.createElement("img",{src:e.image,alt:"",className:"display__collabcardimage"}),l.a.createElement("h3",{className:"display__collabcardtitle"},e.title),l.a.createElement("p",{className:"display__collabcarddescription"},e.description))}))))}}]),a}(n.Component))),te=a(23),ae=(a(114),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={accountExists:!1,usernameAvailable:!1,name:"",userName:"",email:"",password:"",formError:""},e.handleClick=function(){e.setState((function(e){return{accountExists:!e.accountExists}}))},e.handleChange=function(t){var a=t.target,n=a.name,l=a.value;e.setState(Object(te.a)({},n,l))},e.handleUsername=function(t){t.target.value.match(/^[a-zA-Z0-9_]{3,10}$/)&&!t.target.value.match(/^(about|user|collab|collabs|messages|message|edit|login|signup|freely)$/i)?N("userName",t.target.value).then((function(t){t.length,e.setState({usernameAvailable:!0})})):e.setState({usernameAvailable:!1})},e.isValid=function(){return e.state.name?e.state.userName?e.state.email.includes("@")||e.setState({formError:"Please enter a valid email."}):e.setState({formError:"You forgot your username!"}):e.setState({formError:"You forgot your name!"}),!0},e.handleSubmit=function(t){if(t.preventDefault(),console.log(e.state.formError),e.isValid()){if(e.state.accountExists)return e.logUser();e.createAccount()}},e.logUser=function(){var t=e.state,a=t.email,n=t.password;E({email:a,password:n}).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e.createAccount=function(){var t=e.state,a=t.email,n=t.password,l=t.name,r=t.userName;_({email:a,password:n,name:l,userName:r}).then((function(t){e.context.setUser(t),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"login-container"},this.state.accountExists&&l.a.createElement("h2",{className:"form-login__title"},"Welcome back!"," ",l.a.createElement("span",{role:"img","aria-label":"waving-emoji"},"\ud83d\udc4b")),!this.state.accountExists&&l.a.createElement("h2",{className:"form-login__title"},"Create an account to set up your freelancer profile"),l.a.createElement("form",{className:"form-login",onChange:this.handleChange,onSubmit:this.handleSubmit},!this.state.accountExists&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"form-login__group"},l.a.createElement("label",{className:"form-login__label",htmlFor:"name"},"Name"),l.a.createElement("br",null),l.a.createElement("input",{className:"form-login__input",type:"text",id:"name",name:"name"})),l.a.createElement("div",{className:"form-login__group"},l.a.createElement("label",{className:"form-login__label",htmlFor:"userName"},"Username"),l.a.createElement("br",null),l.a.createElement("input",{className:"form-login__input",type:"text",id:"userName",name:"userName",onChange:this.handleUsername}))),l.a.createElement("div",{className:"form-login__group"},l.a.createElement("label",{className:"form-login__label",htmlFor:"email"},"Email"),l.a.createElement("br",null),l.a.createElement("input",{className:"form-login__input",type:"email",id:"email",name:"email"})),l.a.createElement("div",{className:"form-login__group"},l.a.createElement("label",{className:"form-login__label",htmlFor:"password"},"Password"),l.a.createElement("br",null),l.a.createElement("input",{className:"form-login__input",type:"password",id:"password",name:"password",placeholder:this.state.accountExists?null:"5+ characters"})),l.a.createElement("p",{className:"form-login__error-msg"},this.state.formError),l.a.createElement("div",{className:"form-login__button-group"},l.a.createElement("button",{className:"form-login__button"},this.state.accountExists?"Log in":"Create Account"))),l.a.createElement("div",{className:"form-login__link"},this.state.accountExists&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{onClick:this.handleClick},"Don't have an account yet?"),l.a.createElement("h3",{onClick:this.handleClick},l.a.createElement(K.a,{icon:Q.c}))),!this.state.accountExists&&l.a.createElement("h3",{onClick:this.handleClick},"I already have an account ")))}}]),a}(n.Component));ae.contextType=T;var ne=Object(J.g)(ae),le=a(30),re=(a(56),a(156)),se=a(155),ie=a(154),ce=a(36),oe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={search:"",results:[],isLoading:!1},e.handleSearchChange=function(t){e.setState({search:t.target.value,isLoading:!0}),clearTimeout(e.timeoutId),e.timeoutId=setTimeout((function(){e.performSearch()}),1e3)},e.performSearch=function(){""!==e.state.search?h.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(e.state.search,".json?limit=3&types=place&access_token=").concat("pk.eyJ1Ijoid2lsbGlhbWh6byIsImEiOiJja2FiZzdqZHQxNmhoMnNtdGRka3BsOW4wIn0.pYgviWXcncoEoDMGSK3eCw")).then((function(t){e.setState({results:t.data.features,isLoading:!1})})).catch((function(e){return console.log(e)})):e.setState({results:[],isLoading:!1})},e.handleItemClicked=function(t){e.setState({search:t.place_name,results:[]}),e.props.onSelect(t)},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{type:"text",name:"location",id:"location",value:this.props.userLocation||"",onChange:this.handleSearchChange,placeholder:"Enter an address"}),l.a.createElement("ul",{className:"CityAutoComplete-results"},this.state.results.map((function(t){return l.a.createElement("li",{key:t.id,className:"CityAutoComplete-items",onClick:function(){return e.handleItemClicked(t)}},t.place_name)})),this.state.isLoading&&l.a.createElement("li",{className:"CityAutoComplete-items"},"Let me think...")))}}]),a}(n.Component),me=(a(115),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"error"},l.a.createElement(K.a,{className:"error__clear",onClick:this.props.handleError,icon:Q.k}),l.a.createElement("p",{className:"error__title"},"Error"),l.a.createElement("p",null,this.props.error))}}]),a}(n.Component)),ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={categoryOptions:[],saved:!0,usernameAvailable:!0,newPortfolio:{},error:void 0},e.handleFormSubmit=function(t){if(t.preventDefault(),e.state.usernameAvailable)if(e.state.name)if(e.state.usernameAvailable)if(e.state.email.match(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,10}$/)){var a=Object(le.a)({},e.state);delete a.saved,delete a.skillOptions,delete a.categoryOptions,delete a._id,delete a.addSocial,a.portfolio&&(a.portfolio=JSON.stringify(a.portfolio)),a.userCategory&&(a.userCategory=JSON.stringify(a.userCategory)),a.userSkills&&(a.userSkills=JSON.stringify(a.userSkills)),a.userCollab&&(a.userCollab=JSON.stringify(a.userCollab));var n=Object(ce.a)(a);console.log(e.state.portfolio),k(e.state._id,n).then((function(t){t.userName!==e.props.match.params.username&&e.props.history.push("/"+t.userName+"/edit"),e.setState({apiRes:t}),e.setState({saved:!0})}))}else e.setState({error:"Please enter a valid address."});else e.setState({error:"Username is either invalid or unavailable. Usernames can by 3\u201310 characters and use letters, numbers, and underscores"});else e.setState({error:"Please enter your name."});else e.setState({error:"Username not available."})},e.handleCategoryChange=function(t,a){e.setState({userCategory:a,saved:!1})},e.handleSkillChange=function(t,a){e.setState({userSkills:a,saved:!1})},e.handleUsername=function(t){t.target.value.match(/^[a-zA-Z0-9_]{3,10}$/)&&!t.target.value.match(/^(about|user|collab|collabs|messages|message|edit|login|signup|freely)$/i)?N("userName",t.target.value).then((function(t){t.length>0&&t[0]._id!==e.state._id?e.setState({usernameAvailable:!1}):e.setState({usernameAvailable:!0})})):e.setState({usernameAvailable:!1})},e.handlePlaceChange=function(t){e.setState({location:t.place_name,saved:!1})},e.handleError=function(t){e.setState({error:void 0})},e.handleFormChange=function(t){if("social"===t.target.name)e.setState({socialLinks:Object(d.a)(document.querySelectorAll("[name='social']")).map((function(e){return e.value}))}),e.setState({saved:!1});else if("profilePicture"===t.target.name){if(t.target.files[0].size>75e4)return void e.setState({error:"Maximum file size: 750kb"});e.setState({profilePicture:t.target.files[0]});var a=new FileReader;a.onload=function(){e.setState({temporaryPicture:a.result})},a.readAsDataURL(t.target.files[0]),e.setState({saved:!1})}else e.setState(Object(te.a)({},t.target.name,t.target.value)),e.setState({saved:!1})},e.handlePortfolio=function(t,a){if(e.setState({saved:!1}),"image"!==a.target.name){var n=Object(d.a)(e.state.portfolio);n[t][a.target.name]=a.target.value,e.setState({portfolio:n})}},e.handleNewPortfolio=function(t){var a=Object(le.a)({},e.state.newPortfolio);if("image"===t.target.name){if(t.target.files[0].size>75e4)return console.log("Big image"),void e.setState({error:"Maximum file size: 750kb"});a.image=t.target.files[0];var n=new FileReader;n.onload=function(){a.temporaryPicture=n.result,e.setState({newPortfolio:a}),console.log(a)},n.readAsDataURL(t.target.files[0])}else a[t.target.name]=t.target.value,e.setState({newPortfolio:a})},e.handleAddPortfolio=function(t){t.preventDefault(),Object(le.a)({},e.state.newPortfolio).title&&Object(le.a)({},e.state.newPortfolio).description&&Object(le.a)({},e.state.newPortfolio).link?(e.setState(Object(te.a)({},"portfolio"+e.state.portfolio.length,e.state.newPortfolio.image)),e.setState({portfolio:e.state.portfolio.concat([e.state.newPortfolio]),saved:!1,newPortfolio:{image:"",title:"",description:"",link:""}})):e.setState({error:"Please fill out all fields."})},e.handleRemovePortfolio=function(t){e.setState({portfolio:e.state.portfolio.filter((function(e,a){return a!==t&&e})),saved:!1})},e.handlePortfolioImage=function(t,a){e.setState(Object(te.a)({},"portfolio"+t,a.target.files[0]));var n=Object(d.a)(e.state.portfolio),l=new FileReader;l.onload=function(){n[t].temporaryPicture=l.result,e.setState({portfolio:n})},l.readAsDataURL(a.target.files[0])},e.handleAddSocial=function(t){t.preventDefault(),e.state.addSocial&&e.setState({socialLinks:e.state.socialLinks.concat([e.state.addSocial]),saved:!1,addSocial:""})},e.handleRemoveSocial=function(t){e.setState({socialLinks:e.state.socialLinks.filter((function(e,a){return a!==t&&e})),saved:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;N("userName",this.props.match.params.username).then((function(t){e.setState(t[0])})),w().then((function(t){e.setState({categoryOptions:t})})),x().then((function(t){e.setState({skillOptions:t})}))}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onChange:this.handleFormChange,onSubmit:this.handleFormSubmit,className:"display container"},l.a.createElement("button",{className:this.state.saved?"edit__button saved":this.state.usernameAvailable?"edit__button unsaved":"edit__button invalid"},this.state.saved?"Saved":"Save"),l.a.createElement("div",{className:"display__avatarbox edit"},l.a.createElement("label",{htmlFor:"profilePicture"},l.a.createElement("input",{type:"file",name:"profilePicture",id:"profilePicture",className:"input--hidden",accept:".png, .jpg, .jpeg"}),l.a.createElement("img",{className:"display__picture",src:this.state.temporaryPicture||this.state.profilePicture,alt:""}))),l.a.createElement("h2",{className:"display__name"},l.a.createElement("input",{type:"text",spellcheck:"false",name:"name",id:"name",placeholder:"Name",value:this.state.name})),l.a.createElement("div",{className:"display__categories"},l.a.createElement(re.a,{multiple:!0,onChange:this.handleCategoryChange,limitTags:3,id:"tags-outlined",options:this.state.categoryOptions,value:this.state.userCategory,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement(ie.a,{type:"text",name:"title",id:"title",value:this.state.title,className:"display__title",maxLength:280,placeholder:"Intro"}),l.a.createElement("div",{className:"display__editsocial"},this.state.socialLinks&&this.state.socialLinks.map((function(t,a){return l.a.createElement("label",{className:"display__editsociallink",htmlFor:"social"+a},l.a.createElement(X,{link:t}),l.a.createElement("input",{type:"text",name:"social",id:"social"+a,value:t,spellcheck:"false"}),l.a.createElement(K.a,{onClick:function(){return e.handleRemoveSocial(a)},icon:Q.h}))})),l.a.createElement("label",{htmlFor:"social\u03c0",className:"display__editsociallink"},l.a.createElement(X,{link:""}),l.a.createElement("input",{className:"social--link",type:"text",name:"addSocial",placeholder:"Link",id:"social\u03c0",onKeyDown:function(t){return 13===t.keyCode?e.handleAddSocial(t):null},value:this.state.addSocial}),l.a.createElement(K.a,{onClick:this.handleAddSocial,icon:Q.j}))),l.a.createElement("div",{className:"display__bullets"},l.a.createElement("h3",null,"Key Points"),l.a.createElement("ul",null,l.a.createElement("li",{className:"display__bullet"},l.a.createElement("select",{id:"openToProjects",value:this.state.openToProjects,name:"openToProjects"},l.a.createElement("option",{value:!0},"Open to collaborations"),l.a.createElement("option",{value:!1},"Not open to collaborations right now"))),l.a.createElement("li",{className:"display__bullet display__location"},"Based in",l.a.createElement(oe,{onSelect:this.handlePlaceChange,userLocation:this.state.location})),l.a.createElement("li",{className:"display__bullet"},l.a.createElement("select",{id:"remote",value:this.state.remote,name:"remote"},l.a.createElement("option",{value:!0},"Open to remote collabs"),l.a.createElement("option",{value:!1},"Not open to remote collabs"))),l.a.createElement("li",{className:"display__bullet"},"Preferred method of contact:"," ",l.a.createElement("input",{type:"text",name:"preferredContact",id:"preferredContact",spellcheck:"false",value:this.state.preferredContact||"",placeholder:"Contact"}))),l.a.createElement("h3",null,"Personal Info"),l.a.createElement("ul",null,l.a.createElement("li",{className:"display__bullet"},"Username:"," ",l.a.createElement("input",{type:"text",name:"userName",id:"userName",spellcheck:"false",onChange:this.handleUsername,value:this.state.userName}),this.state.usernameAvailable?l.a.createElement(K.a,{icon:Q.b}):l.a.createElement(K.a,{icon:Q.l})),l.a.createElement("li",{className:"display__bullet"},"Phone Number:"," ",l.a.createElement("input",{type:"text",name:"phone",id:"phone",spellcheck:"false",value:this.state.phone})),l.a.createElement("li",{className:"display__bullet"},"Email:"," ",l.a.createElement("input",{type:"text",name:"email",id:"email",spellcheck:"false",value:this.state.email})))),l.a.createElement("h2",{className:"display__heading"},"Skills"),this.state.skillOptions&&l.a.createElement(re.a,{multiple:!0,limitTags:5,onChange:this.handleSkillChange,id:"tags-outlined",options:this.state.skillOptions,value:this.state.userSkills,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}}),l.a.createElement("h2",{className:"display__heading"},"About"),l.a.createElement(ie.a,{type:"bio",name:"bio",id:"bio",value:this.state.bio,className:"display__bio",placeholder:"Tell us about yourself..."})),l.a.createElement("div",{className:"display__portfolio container"},l.a.createElement("h2",{className:"display__heading"},"Portfolio"),this.state.portfolio&&this.state.portfolio.map((function(t,a){return l.a.createElement("form",{className:"display__portfolioitem",onChange:function(t){return e.handlePortfolio(a,t)}},l.a.createElement("label",{htmlFor:"image"+a},l.a.createElement("input",{onChange:function(t){return e.handlePortfolioImage(a,t)},type:"file",name:"image",id:"image"+a,className:"input--hidden",accept:".png, .jpg, .jpeg"}),l.a.createElement("img",{className:"display__portfolioimage",src:t.temporaryPicture||t.image,alt:""})),l.a.createElement("div",{className:"display__portfoliotext"},l.a.createElement("h3",{className:"display__portfoliotitle"},l.a.createElement("input",{type:"text",name:"title",id:"title",spellcheck:"false",value:t.title})),l.a.createElement(ie.a,{name:"description",id:"description",value:t.description,className:"display__portfoliodescription",placeholder:"Intro"}),l.a.createElement("div",{className:"display__portfoliolink"},l.a.createElement("input",{type:"text",name:"link",id:"link",spellcheck:"false",value:t.link}),!t.temporaryPicture&&!t.image&&l.a.createElement("label",{htmlFor:"image"+a},l.a.createElement(K.a,{icon:Q.a})),l.a.createElement(K.a,{onClick:function(){return e.handleRemovePortfolio(a)},icon:Q.h}))))})),(!this.state.portfolio||this.state.portfolio.length<3)&&l.a.createElement("form",{className:"display__portfolioitem",onChange:this.handleNewPortfolio,onSubmit:this.handleAddPortfolio},l.a.createElement("label",{htmlFor:"image\u03c0"},l.a.createElement("input",{type:"file",name:"image",id:"image\u03c0",className:"input--hidden",accept:".png, .jpg, .jpeg"}),l.a.createElement("img",{className:"display__portfolioimage",src:this.state.newPortfolio.temporaryPicture||"https://images.unsplash.com/photo-1566041510632-30055e21a9cf?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=900&h=500&fit=crop&ixid=eyJhcHBfaWQiOjF9",alt:""})),l.a.createElement("div",{className:"display__portfoliotext"},l.a.createElement("h3",{className:"display__portfoliotitle"},l.a.createElement("input",{type:"text",name:"title",id:"title",spellcheck:"false",value:this.state.newPortfolio.title,placeholder:"Portfolio Item Title"})),l.a.createElement(ie.a,{name:"description",id:"description",value:this.state.newPortfolio.description,className:"display__portfoliodescription",placeholder:"Describe your project..."}),l.a.createElement("div",{className:"display__portfoliolink"},l.a.createElement("input",{type:"text",name:"link",spellcheck:"false",id:"link",value:this.state.newPortfolio.link,placeholder:"A link to your project"}),l.a.createElement(K.a,{icon:Q.j,onClick:this.handleAddPortfolio}))))),!!this.state.error&&l.a.createElement(me,{error:this.state.error,handleError:this.handleError}))}}]),a}(n.Component),de=H(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={categoryOptions:[],skillOptions:[],saved:!0,title:"",creator:"",contributors:[],allUsers:[],description:"",skillsNeeded:[],categoryNeeded:[],image:"",open:!1,error:void 0},e.handleFormChange=function(t){if("image"===t.target.name){if(t.target.files[0].size>75e4)return void e.setState({error:"Maximum file size: 750kb"});var a=new FileReader;a.onload=function(){e.setState({temporaryPicture:a.result})},a.readAsDataURL(t.target.files[0]),e.setState({image:t.target.files[0],saved:!1})}else{var n;e.setState((n={},Object(te.a)(n,t.target.name,t.target.value),Object(te.a)(n,"saved",!1),n))}},e.handleError=function(t){e.setState({error:void 0})},e.handleFormSubmit=function(t){if(t.preventDefault(),e.state.title)if(e.state.description){var a=Object(le.a)({},e.state);delete a.saved,delete a.skillOptions,delete a.categoryOptions,delete a.temporaryPicture,delete a._id,delete a.allUsers,a.contributors&&(a.contributors=JSON.stringify(a.contributors)),a.skillsNeeded&&(a.skillsNeeded=JSON.stringify(a.skillsNeeded)),a.categoryNeeded&&(a.categoryNeeded=JSON.stringify(a.categoryNeeded));var n=Object(ce.a)(a);C(e.state._id,n).then((function(t){e.setState({apiRes:t}),e.setState({saved:!0})}))}else e.setState({error:"Please enter a description"});else e.setState({error:"Please enter a title"})},e.handleCategoryChange=function(t,a){e.setState({categoryNeeded:a,saved:!1})},e.handleSkillChange=function(t,a){e.setState({skillsNeeded:a,saved:!1})},e.handleUserChange=function(t,a){e.setState({contributors:a,saved:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;S(this.props.match.params.id).then((function(t){e.setState(t)})),w().then((function(t){e.setState({categoryOptions:t})})),x().then((function(t){e.setState({skillOptions:t})})),y().then((function(t){e.setState({allUsers:t})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onChange:this.handleFormChange,onSubmit:this.handleFormSubmit,className:"display--collab"},l.a.createElement("label",{htmlFor:"image"},l.a.createElement("div",{className:"display__collabimagebox",style:{backgroundImage:"url("+(this.state.temporaryPicture||this.state.image)+")"}},l.a.createElement("input",{type:"file",name:"image",id:"image",className:"input--hidden"}))),l.a.createElement("div",{className:"container display display__collabbody"},l.a.createElement("button",{className:this.state.saved?"edit__button collabbutton saved":"edit__button collabbutton unsaved"},this.state.saved?"Saved":"Save"),l.a.createElement("h2",{className:"display__collabtitle"},l.a.createElement(ie.a,{type:"text",name:"title",id:"title",value:this.state.title,maxLength:280,placeholder:"Title"})),l.a.createElement("h3",{className:"display__heading"},"Description"),l.a.createElement(ie.a,{type:"description",name:"description",id:"description",value:this.state.description,className:"display__description",placeholder:"Description"}),l.a.createElement("div",{className:"display__multiselect"},l.a.createElement("h3",{className:"display__heading"},"Roles Needed"),l.a.createElement(re.a,{multiple:!0,onChange:this.handleCategoryChange,limitTags:5,id:"tags-outlined",options:this.state.categoryOptions,value:this.state.categoryNeeded,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement("div",{className:"display__multiselect"},l.a.createElement("h3",{className:"display__heading"},"Skills Needed"),l.a.createElement(re.a,{multiple:!0,onChange:this.handleSkillChange,id:"tags-outlined",options:this.state.skillOptions,value:this.state.skillsNeeded,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement("div",{className:"display__multiselect"},l.a.createElement("h3",{className:"display__heading"},"Contributors"),l.a.createElement(re.a,{multiple:!0,onChange:this.handleUserChange,id:"tags-outlined",options:this.state.allUsers,value:this.state.contributors,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement("ul",{className:"display__bullets"},l.a.createElement("li",{className:"display__bullet"},l.a.createElement("select",{id:"open",value:this.state.open,name:"open"},l.a.createElement("option",{value:!0},"Open to collaborators"),l.a.createElement("option",{value:!1},"Not open to collaborators right now"))),l.a.createElement("li",{className:"display__bullet"},"Created by ",this.state.creator.name),l.a.createElement("li",{className:"display__bullet"},"Preferred method of contact for ",this.state.creator.name,":"," ",this.state.creator.preferredContact)),this.state.userCollab&&l.a.createElement("div",{className:"display__collabs"},l.a.createElement("h2",{className:"display__heading"},"Collabs"),this.state.userCollab.map((function(e){return l.a.createElement("div",{className:"display__collab"},l.a.createElement("img",{src:e.image,alt:"",className:"display__collabimage"}),l.a.createElement("h3",{className:"display__collabtitle"},e.title),l.a.createElement("p",{className:"display__collabdescription"},e.description))}))))),!!this.state.error&&l.a.createElement(me,{error:this.state.error,handleError:this.handleError}))}}]),a}(n.Component)),pe=H(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={categoryOptions:[],skillOptions:[],saved:!0,title:"",creator:"",contributors:[],allUsers:[],description:"",skillsNeeded:[],categoryNeeded:[],image:"",open:!1,error:void 0},e.handleFormChange=function(t){if("image"===t.target.name){if(t.target.files[0].size>75e4)return void e.setState({error:"Maximum file size: 750kb"});var a=new FileReader;a.onload=function(){e.setState({temporaryPicture:a.result})},a.readAsDataURL(t.target.files[0]),e.setState({image:t.target.files[0],saved:!1})}else{var n;e.setState((n={},Object(te.a)(n,t.target.name,t.target.value),Object(te.a)(n,"saved",!1),n))}},e.handleError=function(t){e.setState({error:void 0})},e.handleFormSubmit=function(t){if(t.preventDefault(),e.state.title)if(e.state.description){var a=Object(le.a)({},e.state);a.creator=e.props.context.user._id,delete a.saved,delete a.skillOptions,delete a.categoryOptions,delete a.temporaryPicture,delete a._id,delete a.allUsers,a.contributors&&(a.contributors=JSON.stringify(a.contributors)),a.skillsNeeded&&(a.skillsNeeded=JSON.stringify(a.skillsNeeded)),a.categoryNeeded&&(a.categoryNeeded=JSON.stringify(a.categoryNeeded));var n=Object(ce.a)(a);O(n).then((function(t){e.props.history.push("/collab/"+t._id),e.setState({apiRes:t}),e.setState({saved:!0})}))}else e.setState({error:"Please enter a description."});else e.setState({error:"Please enter a title."})},e.handleCategoryChange=function(t,a){e.setState({categoryNeeded:a,saved:!1})},e.handleSkillChange=function(t,a){e.setState({skillsNeeded:a,saved:!1})},e.handleUserChange=function(t,a){e.setState({contributors:a,saved:!1})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;w().then((function(t){e.setState({categoryOptions:t})})),x().then((function(t){e.setState({skillOptions:t})})),y().then((function(t){e.setState({allUsers:t})}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onChange:this.handleFormChange,onSubmit:this.handleFormSubmit,className:"display--collab"},l.a.createElement("label",{htmlFor:"image"},l.a.createElement("div",{className:"display__collabimagebox",style:{backgroundImage:"url("+(this.state.temporaryPicture||"https://images.unsplash.com/photo-1566041510632-30055e21a9cf?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=900&h=500&fit=crop&ixid=eyJhcHBfaWQiOjF9")+")"}},l.a.createElement("input",{type:"file",name:"image",id:"image",className:"input--hidden"}))),l.a.createElement("div",{className:"container display display__collabbody"},l.a.createElement("button",{className:this.state.saved?"edit__button collabbutton saved":"edit__button collabbutton unsaved"},this.state.saved?"Saved":"Save"),l.a.createElement("h2",{className:"display__collabtitle"},l.a.createElement(ie.a,{type:"text",name:"title",id:"title",value:this.state.title,maxLength:280,placeholder:"Title"})),l.a.createElement("h3",{className:"display__heading"},"Description"),l.a.createElement(ie.a,{type:"description",name:"description",id:"description",value:this.state.description,className:"display__description",placeholder:"Description"}),l.a.createElement("div",{className:"display__multiselect"},l.a.createElement("h3",{className:"display__heading"},"Roles Needed"),l.a.createElement(re.a,{multiple:!0,onChange:this.handleCategoryChange,limitTags:5,id:"tags-outlined",options:this.state.categoryOptions,value:this.state.categoryNeeded,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement("div",{className:"display__multiselect"},l.a.createElement("h3",{className:"display__heading"},"Skills Needed"),l.a.createElement(re.a,{multiple:!0,onChange:this.handleSkillChange,id:"tags-outlined",options:this.state.skillOptions,value:this.state.skillsNeeded,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement("div",{className:"display__multiselect"},l.a.createElement("h3",{className:"display__heading"},"Contributors"),l.a.createElement(re.a,{multiple:!0,onChange:this.handleUserChange,id:"tags-outlined",options:this.state.allUsers,value:this.state.contributors,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement("ul",{className:"display__bullets"},l.a.createElement("li",{className:"display__bullet"},l.a.createElement("select",{id:"open",value:this.state.open,name:"open"},l.a.createElement("option",{value:!0},"Open to collaborators"),l.a.createElement("option",{value:!1},"Not open to collaborators right now"))),l.a.createElement("li",{className:"display__bullet"},"Preferred method of contact:"," ",l.a.createElement("input",{type:"text",name:"preferredContact",id:"preferredContact",value:this.state.preferredContact}))))),!!this.state.error&&l.a.createElement(me,{error:this.state.error,handleError:this.handleError}))}}]),a}(n.Component)),he=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"truncateMessage",value:function(e,t){return e.length>t?e.substring(0,t)+"...":e}},{key:"render",value:function(){var e=this.props.message,t=e.recipients,a=(e.unread,e.messages),n=e._id,r=this.props.user,s=a.length>1&&a[a.length-1],i=t[0]._id===r._id?t[1]:t[0];return l.a.createElement("a",{href:"/messages/"+n,className:"messages__onemessage"},l.a.createElement("img",{src:i.profilePicture,className:"messages__avatar",alt:""}),l.a.createElement("div",{className:"messages__info"},l.a.createElement("div",{className:"messages__correspondent"},i.name),!!s&&l.a.createElement("div",{className:"messages__lastmessage"},console.log(s.author),s.author==r._id?"You: ":i.name+": ",this.truncateMessage(s.content,100))))}}]),a}(n.Component),fe=(a(116),H(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={newMessage:void 0,messages:[],users:[],currentUser:void 0},e.handleUserChange=function(t,a){e.setState({newMessage:a})},e.handleCreate=function(){console.log(e.state.newMessage._id),e.state.messages.forEach((function(t){t.recipients[0]._id!=e.state.newMessage._id&&t.recipients[1]._id!=e.state.newMessage._id||e.props.history.push("/messages/"+t._id)})),A(e.state.currentUser._id,e.state.newMessage._id).then((function(t){console.log(t),e.props.history.push("/messages/"+t._id)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;b().then((function(t){e.setState({currentUser:t},(function(){D(e.state.currentUser._id).then((function(t){console.log(t),e.setState({messages:t})})).catch((function(e){return console.log(e)}))}))})),y().then((function(t){e.setState({users:t})}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"messages container"},l.a.createElement("div",{className:"messages__new"},l.a.createElement("p",{className:"messages__to"},"To:"),l.a.createElement(re.a,{onChange:this.handleUserChange,id:"tags-outlined",options:this.state.users,value:this.state.newMessage,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}}),l.a.createElement("button",{className:"messages__createbutton edit__button",onClick:this.handleCreate},"New")),l.a.createElement("div",{className:"messages__list"},this.state.messages?this.state.messages.map((function(t){if(t.messages.length>1)return l.a.createElement(he,{message:t,user:e.state.currentUser})})):l.a.createElement("p",null,"No messages to display")))}}]),a}(n.Component))),ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.message,t=new Date(e.time),a=this.props.user,n=this.props.message.author===a._id,r=t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+" "+t.getDay()+"/"+t.getMonth()+"/"+t.getFullYear();return console.log(r),l.a.createElement("div",{className:"message__onemessage "+(n?"sent":"received")},l.a.createElement("div",{className:"message__time"},r),l.a.createElement("div",{className:"message__content"},e.content))}}]),a}(n.Component),_e=(a(117),H(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={messages:[],newMessage:[],correspondent:void 0,recipients:void 0},e.sendMessage=function(){var t={time:Date.now(),author:e.props.context.user,content:e.state.newMessage};console.log(t),I(e.props.match.params.id,t).then((function(t){return e.setState({messages:t.messages,newMessage:""})})).catch((function(e){return console.log(e)}))},e.componentDidMount=function(){M(e.props.match.params.id).then((function(t){return e.setState({messages:t.messages,recipients:t.recipients},(function(){b().then((function(t){e.setState({user:t},(function(){e.state.recipients&&e.state.user&&(e.state.recipients[0]._id===e.state.user._id?e.setState({recipient:e.state.recipients[1]}):e.setState({recipient:e.state.recipients[0]}))}))}))}))}))},e.componentDidUpdate=function(){e.updateScroll()},e}return Object(o.a)(a,[{key:"updateScroll",value:function(){console.log("scroll");var e=document.querySelector(".message__scrollcontainer");console.log(e),e.scrollTop=e.scrollHeight}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"message container"},l.a.createElement("div",{className:"message__header"},l.a.createElement("a",{className:"message__back",href:"/messages"},"\xab Back"),l.a.createElement("span",{className:"message__recipient"},!!this.state.recipient&&l.a.createElement("img",{className:"message__avatar",src:this.state.recipient.profilePicture,alt:""}),!!this.state.recipient&&this.state.recipient.name),l.a.createElement("span",{className:"message__back message__hidden"},"\xab Back")),l.a.createElement("div",{className:"message__scrollcontainer"},l.a.createElement("div",{className:"message__thread"},this.state.messages&&this.state.user&&this.state.messages.map((function(t,a){return a>0&&l.a.createElement(ge,{message:t,user:e.state.user})})))),l.a.createElement("div",{className:"message__compose"},l.a.createElement("div",{className:"message__textcontainer"},l.a.createElement(ie.a,{placeholder:"New Message",value:this.state.newMessage,onChange:function(t){console.log(e.state),e.setState({newMessage:t.target.value})}})),l.a.createElement("button",{className:"edit__button message__sendmessage",onClick:this.sendMessage},"Send")))}}]),a}(n.Component))),Ee=function(){return l.a.createElement("div",{className:"tabs"},l.a.createElement("div",{className:"tabs__item"},l.a.createElement(i.c,{exact:!0,activeClassName:"tabs--active",className:"tabs__link",to:"/"},"Freelancers")),l.a.createElement("div",{className:"tabs__item"},l.a.createElement(i.c,{exact:!0,activeClassName:"tabs--active",className:"tabs__link",to:"/collabs"},"Collaborations")))},be=function(e){var t=e.freelancer;return l.a.createElement(i.b,{className:"card",to:"/".concat(t.userName)},l.a.createElement("div",{style:{backgroundImage:"url(".concat(t.profilePicture,")")},className:"card__aside"}),l.a.createElement("div",{className:"card__body"},l.a.createElement("h3",{className:"card__title"},t.userCategory.map((function(e,t){return l.a.createElement("div",{key:t},e.name)}))),l.a.createElement("h2",{className:"card__subtitle"},t.name),l.a.createElement("p",{className:"card__copy"},t.location),l.a.createElement("p",{className:"card__copy"},t.remote?"I don't mind working remotely.":"I prefer working on site.")))},ve=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={filterCity:[],filterCategory:[],filterSkill:[],categoriesUsed:[],skillsUsed:[],citiesUsed:[],filteredFreelancersArray:[]},e.handleCityChange=function(t,a){e.setState({filterCity:a}),e.handleFreelancersUpdate(a,e.state.filterCategory,e.state.filterSkill)},e.handleCategoryChange=function(t,a){e.setState({filterCategory:a}),e.handleFreelancersUpdate(e.state.filterCity,a,e.state.filterSkill)},e.handleSkillChange=function(t,a){e.setState({filterSkill:a}),e.handleFreelancersUpdate(e.state.filterCity,e.state.filterCategory,a)},e.handleFreelancersUpdate=function(t,a,n){var l=Object(d.a)(e.props.freelancers);t&&(l=l.filter((function(e){return e.location.includes(t)}))),a&&a.forEach((function(e){l=l.filter((function(t){for(var a=0;a<t.userCategory.length;a++)return t.userCategory[a]._id===e._id}))})),n&&n.forEach((function(e){l=l.filter((function(t){return t.userSkills.includes(e)}))})),e.props.updateFreelancersFeed(l)},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;U().then((function(t){return e.setState({categoriesUsed:t})})).catch((function(e){return console.log(e)})),F().then((function(t){return e.setState({skillsUsed:t})})).catch((function(e){return console.log(e)})),P().then((function(t){return e.setState({citiesUsed:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("form",{className:"filter",action:""},l.a.createElement("div",{className:"filter__group"},l.a.createElement("div",{className:"filter__label"},"Pick a location"),l.a.createElement(re.a,{className:"filter__input",onChange:this.handleCityChange,value:this.state.filterCity,limitTags:3,id:"tags-outlined",options:this.state.citiesUsed||"",getOptionLabel:function(e){return e},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement("div",{className:"filter__group"},l.a.createElement("div",{className:"filter__label"},"Category"),l.a.createElement(re.a,{className:"filter__input",multiple:!0,onChange:this.handleCategoryChange,limitTags:3,id:"tags-outlined",value:this.state.filterCategory,options:this.state.categoriesUsed||"",getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})),l.a.createElement("div",{className:"filter__group"},l.a.createElement("div",{className:"filter__label"},"Skills"),l.a.createElement(re.a,{className:"filter__input",multiple:!0,onChange:this.handleSkillChange,value:this.state.filterSkill,limitTags:3,id:"tags-outlined",options:this.state.skillsUsed||"",getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,renderInput:function(e){return l.a.createElement(se.a,e)}})))}}]),a}(n.Component),ye=(a(73),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={freelancers:[],filteredFreelancers:[]},e.updateFreelancersFeed=function(t){e.setState({filteredFreelancers:t})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;L().then((function(t){return e.setState({freelancers:t,filteredFreelancers:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"feed-container"},l.a.createElement(Ee,null),!this.state.freelancers&&l.a.createElement("h2",null,"Sorry, no freelancers found"," ",l.a.createElement("span",{role:"img","aria-label":"confused-face-emoji"},"\ud83d\ude15")),l.a.createElement(ve,{freelancers:this.state.freelancers,updateFreelancersFeed:this.updateFreelancersFeed}),this.state.filteredFreelancers.map((function(e,t){return l.a.createElement(be,{key:t,freelancer:e})})))}}]),a}(n.Component)),Ne=function(){return l.a.createElement("form",{className:"filter",action:""},l.a.createElement("div",{className:"filter__group"},l.a.createElement("label",{className:"filter__label",htmlFor:"city"},"City"),l.a.createElement("br",null),l.a.createElement("input",{className:"filter__input",name:"city",id:"city",type:"text"})),l.a.createElement("div",{className:"filter__group"},l.a.createElement("label",{className:"filter__label",htmlFor:"category"},"Category"),l.a.createElement("br",null),l.a.createElement("input",{className:"filter__input",type:"text",name:"category",id:"category"})),l.a.createElement("div",{className:"filter__group"},l.a.createElement("label",{className:"filter__label",htmlFor:"skills"},"Skill"),l.a.createElement("br",null),l.a.createElement("input",{className:"filter__input",type:"text",name:"skills",id:"skills"})))},ke=function(e){var t=e.collab;return l.a.createElement(i.b,{className:"card",to:"/collab/".concat(t._id)},l.a.createElement("div",{style:{backgroundImage:"url(".concat(t.image,")")},className:"card__aside"}),l.a.createElement("div",{className:"card__body"},l.a.createElement("h3",{className:"card__title"},t.title),l.a.createElement("p",{className:"card__copy"},t.description),l.a.createElement("p",{className:"card__copy"},t.open?"Accepting coworkers!":"This project team is complete.")))},Se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={collabs:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;j().then((function(t){return e.setState({collabs:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return l.a.createElement("div",{className:"feed-container"},l.a.createElement(Ee,null),!this.state.collabs&&l.a.createElement("h2",null,"Sorry, no collaborations found"," ",l.a.createElement("span",{role:"img","aria-label":"confused-face-emoji"},"\ud83d\ude15")),l.a.createElement(Ne,null),this.state.collabs.map((function(e,t){return l.a.createElement(ke,{key:t,collab:e})})))}}]),a}(l.a.Component),Ce=H(function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={categoryOptions:[],skillOptions:[],saved:!0,title:"",creator:"",contributors:[],description:"",skillsNeeded:[],categoryNeeded:[],image:"",open:!1},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;S(this.props.match.params.id).then((function(t){e.setState(t)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"display--collab"},this.state.image&&l.a.createElement("div",{className:"display__collabimagebox",style:{backgroundImage:"url("+this.state.image+")"}}),l.a.createElement("div",{className:"container display display__collabbody"},this.props.context.user&&this.props.context.user._id===this.state.creator._id&&l.a.createElement("button",{className:"edit__button collabbutton",onClick:function(){e.props.history.push("/collab/"+e.props.match.params.id+"/edit")}},"Edit"),l.a.createElement("h2",{className:"display__collabtitle"},this.state.title),l.a.createElement("h3",{className:"display__heading"},"Description"),l.a.createElement("div",{className:"display__description"},this.state.description),l.a.createElement("ul",{className:"display__bullets"},l.a.createElement("li",{className:"display__bullet"},this.state.open?l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{icon:Q.m})," This project is seeking collaborators"):l.a.createElement(l.a.Fragment,null,l.a.createElement(K.a,{icon:Q.n}),"This project is not seeking collaborators")),l.a.createElement("li",{className:"display__bullet"},l.a.createElement(K.a,{icon:Q.i}),"Created by"," ",l.a.createElement("a",{href:"/"+this.state.creator.userName},this.state.creator.name)),l.a.createElement("li",{className:"display__bullet"},l.a.createElement(K.a,{icon:Q.d}),"Preferred method of contact: ",this.state.creator.preferredContact)),l.a.createElement(G,{heading:"Roles Needed",data:this.state.categoryNeeded,label:"name",className:"display__fullwidth"}),l.a.createElement(G,{heading:"Skills Needed",data:this.state.skillsNeeded,label:"name",className:"display__fullwidth"}),l.a.createElement(G,{heading:"Collaborators",data:this.state.contributors,label:"name",className:"display__fullwidth",linked:!0})))}}]),a}(n.Component)),Oe=function(){return l.a.createElement("div",{className:"about-container"},l.a.createElement("h1",{className:"about-container__title"},"About Freely"),l.a.createElement("div",{className:"about-container__body"},l.a.createElement("p",{className:"about-container__text"},"This is the about page")))},je=function(){return l.a.createElement("div",{className:"error-page"},l.a.createElement("h1",{className:"error-page__title"},"Woooops",l.a.createElement("br",null),l.a.createElement("span",null,"four-oh-four")),l.a.createElement("img",{src:"./media/error_404.svg",alt:"error page palm-tree not-found",className:"error-page__image"}),l.a.createElement("div",{className:"error-page__body"},l.a.createElement("p",null,"wtf did you type in the URL?!"),l.a.createElement(i.b,{to:"/"},l.a.createElement("h3",null,l.a.createElement(K.a,{icon:Q.c,className:"error-page__body--icon"})," Back home"))))},we=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={hamburgerMenuOpen:!1},e.hamburgerMenuToggleHandler=function(){e.setState((function(e){return{hamburgerMenuOpen:!e.hamburgerMenuOpen}}))},e.backdropClickHandler=function(){e.setState({hamburgerMenuOpen:!1})},e}return Object(o.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(B,{toggled:this.state.hamburgerMenuOpen,hamburgerClickHandler:this.hamburgerMenuToggleHandler,click:this.backdropClickHandler}),this.state.hamburgerMenuOpen?l.a.createElement(W,{click:this.backdropClickHandler}):null,l.a.createElement(Z,{show:this.state.hamburgerMenuOpen,click:this.backdropClickHandler}),l.a.createElement("main",{className:"main"},l.a.createElement(J.d,null,l.a.createElement(J.b,{exact:!0,path:"/",component:ye}),l.a.createElement(J.b,{exact:!0,path:"/collabs",component:Se}),l.a.createElement(Y,{exact:!0,path:"/messages",component:fe}),l.a.createElement(Y,{exact:!0,path:"/messages/:id",component:_e}),l.a.createElement(J.b,{exact:!0,path:"/collab/new",component:pe}),l.a.createElement(Y,{exact:!0,path:"/collab/:id/edit",component:de}),l.a.createElement(J.b,{exact:!0,path:"/collab/:id",component:Ce}),l.a.createElement(J.b,{exact:!0,path:"/about",component:Oe}),l.a.createElement(J.b,{exact:!0,path:"/login",component:ne}),l.a.createElement($,{exact:!0,path:"/:username/edit",component:ue}),l.a.createElement(J.b,{exact:!0,path:"/error_404",component:je}),l.a.createElement(J.b,{exact:!0,path:"/:username",component:ee}))))}}]),a}(n.Component);a(118);s.a.render(l.a.createElement(i.a,null,l.a.createElement(R,null,l.a.createElement(we,null))),document.getElementById("root"))},41:function(e,t,a){},56:function(e,t,a){},73:function(e,t,a){},86:function(e,t,a){e.exports=a(119)}},[[86,1,2]]]);
//# sourceMappingURL=main.1237b8c0.chunk.js.map